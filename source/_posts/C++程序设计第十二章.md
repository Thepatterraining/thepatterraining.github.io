---
title: 学堂在线C++程序设计第十二章学习笔记
date: 2021-08-23 10:12:47
tags: ['C++']
category: C++
article: 学堂在线C++程序设计第十二章学习笔记
---

# 学堂在线C++程序设计第十二章学习笔记

## 泛型程序设计和标准模板库

### 泛型及STL

泛型程序设计
- 编写不依赖于具体数据类型的程序
- 将算法从特定的数据结构中抽象出来成为通用的
- C++的模板为泛型程序设计奠定了关键的基础

术语：概念
- 可以比较大小的数据类型记作`Comparable`
- 具有公有的复制函数并可以用 = 赋值的记作`Assignable`
- 将 可以比较大小 并且 具有公有复制函数可以用 = 赋值的记作`Sortable`

对于两个不同的概念A，B,如果A所需求的所有功能也是B所需求的，那么B是A的子概念，比如，Sortable是 Comparable 的子概念，也是 Assignable的子概念

术语：模型
- 符合一个概念的数据类型称为该概念的模型
- 比如 int 型是 Comparable的模型
- 静态数组不是 Assignable的模型

#### STL

- 标准模板库STL定义了一套概念体系，为泛型程序设计提供了逻辑基础
- STL中的各个类模板，函数模板的参数都是用这个体系中的概念来规定的
- 使用STL模板时，类型参数既可以是C++标准库中已有的类型，也可以是自定义的类型--只要这些类型是所要求的概念的模型

STL基本组件
- 容器（container）：容纳，包含一组元素的对象
    - 顺序容器：
        array,vector,双端队列，单链表，列表
    - 有序容器：
        集合，多重集合，map,多重映射
    - 无序关联容器
        无序集合，无序多重集合，无序映射，无序多重映射
- 迭代器（iterator）
    - 提供了顺序访问容器中每个元素的方法
    - 可以使用 ++ 运算符来获得指向下一个元素的迭代器
    - 可以使用 * 运算符访问迭代器指向的元素，如果元素类型是类或结构体，还可以使用 -> 运算符直接访问成员
    - 有些迭代器还支持通过 -- 运算符获得指向上一个元素的迭代器
    - 迭代器是泛化的指针：指针也具有同样的特性，因此指针本身就是一种迭代器
    - 使用独立于STL容器的迭代器，需要包含头文件<iterator>
- 函数对象（function object）
- 算法（algorithms）

`迭代器`是`算法`和`容器`的桥梁
- 将迭代器作为算法的参数，通过迭代器来访问容器而不是把容器直接作为算法参数
- 将`函数对象`作为算法参数而不是将函数所执行的运算作为算法的一部分。
- 使用STL中提供的或自定义的迭代器和函数对象，配合STL的算法，可以组合出各种各样的功能

容器适配器
- 栈
- 队列


### 关联容器

#### 分类和基本功能

关联容器的特点
- 每个关联容器都有一个key
- 可以根据key高效查找元素

接口
- 插入insert
- 删除 erase
- 查找 find
- 定界 lower_bound,upper_bound,equal_bound
- 计数 count

#### 集合

集合用来存储一组无重复的数据。用于集合的元素本身是有序的，可以高效查找元素，也可以方便的得到指定大小范围的元素在容器中所处的区间


#### 映射

映射和集合的主要区别
- 集合的元素类型是key本身
- 映射的元素类型是key,value二元组

- 在集合中按照key查找一个元素时，一般只是确定这个元素是否存在。
- 映射中按照key查找时，除了能确定是否存在外，还可以得到相应的附加数据


#### 多重集合和多重映射

- 多重集合允许有重复元素的集合，多重映射允许一个key对应多个value
- 多重集合与集合，多重映射与映射的用法差不多

### 函数对象

函数对象
- 一个行为类似函数的对象
- 可以没有参数，也可以带有若干参数
- 其功能是获取值，或者改变操作状态
- 普通函数就是函数对象
- 重载了 "()" 运算符的类的实例是函数对象


#### 函数适配器

- 绑定适配器
- 组合适配器
- 函数指针适配器
- 成员函数适配器


