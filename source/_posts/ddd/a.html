<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>登录系统架构图</title>
</head>
<body>
    <svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
        <!-- 背景 -->
        <rect width="1200" height="800" fill="white"/>
        
        <!-- 标题 -->
        <text x="600" y="30" text-anchor="middle" font-size="24" font-weight="bold" fill="#1a237e">登录系统架构图</text>
        
        <!-- 展示层 -->
        <g transform="translate(50, 60)">
            <rect x="0" y="0" width="120" height="700" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" rx="8"/>
            <text x="60" y="350" text-anchor="middle" font-size="18" font-weight="bold" fill="#1976d2" transform="rotate(-90 60 350)">展示层</text>
        </g>
        
        <!-- 展示层内容 -->
        <g transform="translate(200, 80)">
            <rect x="0" y="0" width="900" height="100" fill="#bbdefb" stroke="#1976d2" stroke-width="1" rx="10"/>
            <text x="450" y="30" text-anchor="middle" font-size="16" font-weight="bold" fill="#0d47a1">前端应用</text>
            <rect x="20" y="40" width="200" height="40" fill="#e1f5fe" stroke="#0288d1" rx="8"/>
            <text x="120" y="65" text-anchor="middle" font-size="14" fill="#01579b">Web端</text>
            <rect x="240" y="40" width="200" height="40" fill="#e1f5fe" stroke="#0288d1" rx="8"/>
            <text x="340" y="65" text-anchor="middle" font-size="14" fill="#01579b">移动端</text>
            <rect x="460" y="40" width="200" height="40" fill="#e1f5fe" stroke="#0288d1" rx="8"/>
            <text x="560" y="65" text-anchor="middle" font-size="14" fill="#01579b">小程序</text>
            <rect x="680" y="40" width="200" height="40" fill="#e1f5fe" stroke="#0288d1" rx="8"/>
            <text x="780" y="65" text-anchor="middle" font-size="14" fill="#01579b">第三方接入</text>
        </g>
        
        <!-- 网关层 -->
        <g transform="translate(50, 200)">
            <rect x="0" y="0" width="120" height="100" fill="#e8f5e9" stroke="#388e3c" stroke-width="2" rx="8"/>
            <text x="60" y="55" text-anchor="middle" font-size="18" font-weight="bold" fill="#1b5e20">网关层</text>
        </g>
        
        <!-- 网关层内容 -->
        <g transform="translate(200, 200)">
            <rect x="0" y="0" width="900" height="100" fill="#c8e6c9" stroke="#388e3c" stroke-width="1" rx="10"/>
            <text x="450" y="30" text-anchor="middle" font-size="16" font-weight="bold" fill="#1b5e20">API网关</text>
            <rect x="20" y="40" width="200" height="40" fill="#dcedc8" stroke="#689f38" rx="8"/>
            <text x="120" y="65" text-anchor="middle" font-size="14" fill="#33691e">路由转发</text>
            <rect x="240" y="40" width="200" height="40" fill="#dcedc8" stroke="#689f38" rx="8"/>
            <text x="340" y="65" text-anchor="middle" font-size="14" fill="#33691e">认证鉴权</text>
            <rect x="460" y="40" width="200" height="40" fill="#dcedc8" stroke="#689f38" rx="8"/>
            <text x="560" y="65" text-anchor="middle" font-size="14" fill="#33691e">限流熔断</text>
            <rect x="680" y="40" width="200" height="40" fill="#dcedc8" stroke="#689f38" rx="8"/>
            <text x="780" y="65" text-anchor="middle" font-size="14" fill="#33691e">日志监控</text>
        </g>
        
        <!-- 应用层 -->
        <g transform="translate(50, 320)">
            <rect x="0" y="0" width="120" height="150" fill="#fff3e0" stroke="#f57c00" stroke-width="2" rx="8"/>
            <text x="60" y="75" text-anchor="middle" font-size="18" font-weight="bold" fill="#e65100">应用层</text>
        </g>
        
        <!-- 应用层内容 -->
        <g transform="translate(200, 320)">
            <rect x="0" y="0" width="900" height="150" fill="#ffe0b2" stroke="#f57c00" stroke-width="1" rx="10"/>
            <text x="450" y="30" text-anchor="middle" font-size="16" font-weight="bold" fill="#e65100">认证服务</text>
            <rect x="20" y="40" width="280" height="50" fill="#ffecb3" stroke="#ffa726" rx="8"/>
            <text x="160" y="60" text-anchor="middle" font-size="14" font-weight="bold" fill="#e65100">登录控制器</text>
            <text x="160" y="80" text-anchor="middle" font-size="13" fill="#f57c00">LoginController</text>
            
            <rect x="320" y="40" width="280" height="50" fill="#ffecb3" stroke="#ffa726" rx="8"/>
            <text x="460" y="60" text-anchor="middle" font-size="14" font-weight="bold" fill="#e65100">认证服务接口</text>
            <text x="460" y="80" text-anchor="middle" font-size="13" fill="#f57c00">AuthenticationService</text>
            
            <rect x="620" y="40" width="260" height="50" fill="#ffecb3" stroke="#ffa726" rx="8"/>
            <text x="750" y="60" text-anchor="middle" font-size="14" font-weight="bold" fill="#e65100">Token管理器</text>
            <text x="750" y="80" text-anchor="middle" font-size="13" fill="#f57c00">TokenManager</text>
            
            <rect x="170" y="100" width="280" height="40" fill="#ffecb3" stroke="#ffa726" rx="8"/>
            <text x="310" y="125" text-anchor="middle" font-size="14" fill="#e65100">验证码服务</text>
            
            <rect x="470" y="100" width="280" height="40" fill="#ffecb3" stroke="#ffa726" rx="8"/>
            <text x="610" y="125" text-anchor="middle" font-size="14" fill="#e65100">第三方认证适配器</text>
        </g>
        
        <!-- 领域层 -->
        <g transform="translate(50, 490)">
            <rect x="0" y="0" width="120" height="150" fill="#fce4ec" stroke="#d32f2f" stroke-width="2" rx="8"/>
            <text x="60" y="75" text-anchor="middle" font-size="18" font-weight="bold" fill="#b71c1c">领域层</text>
        </g>
        
        <!-- 领域层内容 -->
        <g transform="translate(200, 490)">
            <rect x="0" y="0" width="900" height="150" fill="#ffcdd2" stroke="#d32f2f" stroke-width="1" rx="10"/>
            <text x="450" y="30" text-anchor="middle" font-size="16" font-weight="bold" fill="#b71c1c">认证领域</text>
            
            <rect x="20" y="40" width="200" height="90" fill="#ffebee" stroke="#ef5350" rx="8"/>
            <text x="120" y="60" text-anchor="middle" font-size="14" font-weight="bold" fill="#c62828">用户聚合根</text>
            <text x="120" y="80" text-anchor="middle" font-size="12" fill="#d32f2f">User</text>
            <text x="120" y="100" text-anchor="middle" font-size="12" fill="#d32f2f">UserCredential</text>
            <text x="120" y="120" text-anchor="middle" font-size="12" fill="#d32f2f">LoginRecord</text>
            
            <rect x="240" y="40" width="200" height="90" fill="#ffebee" stroke="#ef5350" rx="8"/>
            <text x="340" y="60" text-anchor="middle" font-size="14" font-weight="bold" fill="#c62828">认证策略接口</text>
            <text x="340" y="80" text-anchor="middle" font-size="12" fill="#d32f2f">AuthStrategy</text>
            <text x="340" y="100" text-anchor="middle" font-size="12" fill="#d32f2f">+ authenticate()</text>
            <text x="340" y="120" text-anchor="middle" font-size="12" fill="#d32f2f">+ validate()</text>
            
            <rect x="460" y="40" width="200" height="90" fill="#ffebee" stroke="#ef5350" rx="8"/>
            <text x="560" y="60" text-anchor="middle" font-size="14" font-weight="bold" fill="#c62828">策略工厂</text>
            <text x="560" y="80" text-anchor="middle" font-size="12" fill="#d32f2f">AuthStrategyFactory</text>
            <text x="560" y="100" text-anchor="middle" font-size="12" fill="#d32f2f">+ getStrategy()</text>
            <text x="560" y="120" text-anchor="middle" font-size="12" fill="#d32f2f">+ register()</text>
            
            <rect x="680" y="40" width="200" height="90" fill="#ffebee" stroke="#ef5350" rx="8"/>
            <text x="780" y="60" text-anchor="middle" font-size="14" font-weight="bold" fill="#c62828">领域服务</text>
            <text x="780" y="80" text-anchor="middle" font-size="12" fill="#d32f2f">AuthDomainService</text>
            <text x="780" y="100" text-anchor="middle" font-size="12" fill="#d32f2f">SecurityService</text>
            <text x="780" y="120" text-anchor="middle" font-size="12" fill="#d32f2f">TokenService</text>
        </g>
        
        <!-- 基础设施层 -->
        <g transform="translate(50, 660)">
            <rect x="0" y="0" width="120" height="100" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2" rx="8"/>
            <text x="60" y="30" text-anchor="middle" font-size="16" font-weight="bold" fill="#4a148c" transform="rotate(-90 60 50)">基础设施层</text>
        </g>
        
        <!-- 基础设施层内容 -->
        <g transform="translate(200, 660)">
            <rect x="0" y="0" width="900" height="100" fill="#e1bee7" stroke="#7b1fa2" stroke-width="1" rx="10"/>
            <text x="450" y="25" text-anchor="middle" font-size="16" font-weight="bold" fill="#4a148c">基础设施</text>
            <rect x="20" y="35" width="130" height="50" fill="#f3e5f5" stroke="#9c27b0" rx="8"/>
            <text x="85" y="55" text-anchor="middle" font-size="13" fill="#4a148c">MySQL</text>
            <text x="85" y="72" text-anchor="middle" font-size="12" fill="#6a1b9a">用户数据</text>
            
            <rect x="170" y="35" width="130" height="50" fill="#f3e5f5" stroke="#9c27b0" rx="8"/>
            <text x="235" y="55" text-anchor="middle" font-size="13" fill="#4a148c">Redis</text>
            <text x="235" y="72" text-anchor="middle" font-size="12" fill="#6a1b9a">缓存/Token</text>
            
            <rect x="320" y="35" width="130" height="50" fill="#f3e5f5" stroke="#9c27b0" rx="8"/>
            <text x="385" y="55" text-anchor="middle" font-size="13" fill="#4a148c">SMS服务</text>
            <text x="385" y="72" text-anchor="middle" font-size="12" fill="#6a1b9a">短信验证码</text>
            
            <rect x="470" y="35" width="130" height="50" fill="#f3e5f5" stroke="#9c27b0" rx="8"/>
            <text x="535" y="55" text-anchor="middle" font-size="13" fill="#4a148c">微信API</text>
            <text x="535" y="72" text-anchor="middle" font-size="12" fill="#6a1b9a">OAuth2.0</text>
            
            <rect x="620" y="35" width="130" height="50" fill="#f3e5f5" stroke="#9c27b0" rx="8"/>
            <text x="685" y="55" text-anchor="middle" font-size="13" fill="#4a148c">MQ</text>
            <text x="685" y="72" text-anchor="middle" font-size="12" fill="#6a1b9a">事件总线</text>
            
            <rect x="770" y="35" width="110" height="50" fill="#f3e5f5" stroke="#9c27b0" rx="8"/>
            <text x="825" y="55" text-anchor="middle" font-size="13" fill="#4a148c">日志</text>
            <text x="825" y="72" text-anchor="middle" font-size="12" fill="#6a1b9a">ELK</text>
        </g>
    </svg>
</body>
</html>
