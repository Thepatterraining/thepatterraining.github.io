<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="YwTcBpc08sCpJAE8mKZglCGHjZc1BiK9UUagC8ldlaA">
  <meta name="msvalidate.01" content="true">
  <meta name="yandex-verification" content="true">
  <meta name="baidu-site-verification" content="3PbJKzlOf0">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"thepatterraining.github.io","root":"/","scheme":"Mist","version":"7.7.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="dream">
<meta property="og:url" content="https://thepatterraining.github.io/page/8/index.html">
<meta property="og:site_name" content="dream">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Thepatter">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://thepatterraining.github.io/page/8/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>dream</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="dream" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">dream</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">一个菜鸟程序员的成长历程</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://thepatterraining.github.io/C++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E5%85%AB%E7%AB%A0.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/header.jpeg">
      <meta itemprop="name" content="Thepatter">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dream">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/C++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E5%85%AB%E7%AB%A0.html" class="post-title-link" itemprop="url">学堂在线C++程序设计第八章学习笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-04 10:12:47" itemprop="dateCreated datePublished" datetime="2021-08-04T10:12:47+08:00">2021-08-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-01-26 10:07:53" itemprop="dateModified" datetime="2025-01-26T10:07:53+08:00">2025-01-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C++</span></a>
                </span>
            </span>

          
            <span id="/C++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E5%85%AB%E7%AB%A0.html" class="post-meta-item leancloud_visitors" data-flag-title="学堂在线C++程序设计第八章学习笔记" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/C++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E5%85%AB%E7%AB%A0.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/C++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E5%85%AB%E7%AB%A0.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="学堂在线C-程序设计第八章学习笔记"><a href="#学堂在线C-程序设计第八章学习笔记" class="headerlink" title="学堂在线C++程序设计第八章学习笔记"></a>学堂在线C++程序设计第八章学习笔记</h1><h2 id="指针与数组"><a href="#指针与数组" class="headerlink" title="指针与数组"></a>指针与数组</h2><p>定义指向数组元素的指针<br>定义与赋值<br>例如: int a[10], *pa;<br>pa &#x3D; &amp;a[0] 或 pa &#x3D; &amp;a</p>
<p>*（pa +1）就是 a[1]</p>
<p>也可以 pa[1]</p>
<p>指针数组：数组的元素是指针类型<br>例如：Point *pa[2];<br>由pa[0],pa[1]两个指针构成</p>
<h3 id="指针与函数"><a href="#指针与函数" class="headerlink" title="指针与函数"></a>指针与函数</h3><p>为什么需要指针做参数</p>
<ul>
<li>需要数据双向传递时（引用传递也可以达到此效果）</li>
<li>需要传递一组数据，只传首地址运行效率比较高</li>
</ul>
<h4 id="指针类型的函数"><a href="#指针类型的函数" class="headerlink" title="指针类型的函数"></a>指针类型的函数</h4><p>若函数的返回类型是指针类型，该函数就是指针类型的函数</p>
<p>指针函数的定义形式：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">存储类型 数据类型 *函数名() &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>不要将非静态局部地址用作函数的返回值<ul>
<li>因为非静态局部地址<code>作用域</code>仅限于函数内部，离开函数就被<code>销毁</code>了</li>
</ul>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="type">int</span> *<span class="title">function</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="type">int</span> *ptr = <span class="built_in">function</span>();</span><br><span class="line">    *ptr = <span class="number">5</span>; <span class="comment">//危险！！！</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> *<span class="title">function</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> local = <span class="number">0</span>; <span class="comment">//作用域只在函数内部有效</span></span><br><span class="line">    <span class="keyword">return</span> &amp;local; </span><br><span class="line">&#125; <span class="comment">//函数结束，变量local被释放</span></span><br></pre></td></tr></table></figure>


<ul>
<li>返回的指针要确保在主调函数中是<code>有效</code>，<code>合法</code>的地址</li>
</ul>
<p>在子函数中通过动态内存分配<code>new</code>操作取得的内存地址返回给主函数是合法有效的，但是<code>内存分配</code>和<code>释放</code>不在同一级别，要注意不能忘记<code>释放</code>，避免<code>内存泄露</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="type">int</span> *<span class="title">function</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="type">int</span> *ptr = <span class="built_in">function</span>();</span><br><span class="line">    *ptr = <span class="number">5</span>; <span class="comment">//如果返回的是 new 分配的，就可以了</span></span><br><span class="line">    <span class="keyword">delete</span> ptr; <span class="comment">//但是这里需要释放，避免内存泄露</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> *<span class="title">function</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> *local = <span class="keyword">new</span> <span class="built_in">int</span>(); <span class="comment">//new 分配的不会离开函数就释放</span></span><br><span class="line">    <span class="keyword">return</span> local; </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h4 id="指向函数的指针"><a href="#指向函数的指针" class="headerlink" title="指向函数的指针"></a>指向函数的指针</h4><p>函数指针的定义</p>
<ul>
<li>定义形式<br>存储类型 数据类型 (*函数指针名)()</li>
<li>含义<br>函数指针指向的是程序代码存储区</li>
</ul>
<p>用途：函数回调</p>
<ul>
<li>通过函数指针调用的函数<ul>
<li>例如将函数的指针作为参赛传递给一个函数，使得在处理相似事件的时候可以灵活的使用不同方法</li>
</ul>
</li>
<li>调用者不关心谁是被调用者<ul>
<li>需要知道存在一个具有特定原型和限制条件的被调用函数。</li>
</ul>
</li>
</ul>
<h4 id="对象指针"><a href="#对象指针" class="headerlink" title="对象指针"></a>对象指针</h4><p>定义：<br>类名 *对象指针名;<br>例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Point <span class="title">a</span><span class="params">(<span class="number">5</span>,<span class="number">10</span>)</span></span>;</span><br><span class="line">Point *ptr;</span><br><span class="line">ptr = &amp;a;</span><br></pre></td></tr></table></figure>

<p>通过指针访问对象成员<br>对象指针名-&gt;成员名<br>例如：<br>ptr-&gt;getX() 相当于 (*ptr).getX()</p>
<p>this 指针</p>
<ul>
<li>隐含于类的每一个非静态成员函数中</li>
<li>指出成员函数所操作的对象<ul>
<li>当通过一个对象调用成员函数时，系统先将该对象的地址赋给this指针，然后调用成员函数，成员函数对对象的数据成员进行操作时，就隐含的使用了this指针。</li>
</ul>
</li>
</ul>
<h4 id="动态内存分配"><a href="#动态内存分配" class="headerlink" title="动态内存分配"></a>动态内存分配</h4><p>动态申请内存<br>new 类型名T (初始化参数列表)</p>
<ul>
<li>功能：<br>在程序执行期间，申请用于存放T类型对象的内存空间，并依初值列表赋值</li>
<li>结果值：<br>成功：T类型的指针，指向新分配的内存，失败：抛出异常</li>
</ul>
<p>释放内存<br>delete 指针P</p>
<ul>
<li>功能：<br>释放指针P所指向的内存，p必须是new操作符的返回值</li>
</ul>
<h3 id="智能指针"><a href="#智能指针" class="headerlink" title="智能指针"></a>智能指针</h3><p>C++11提供的</p>
<ul>
<li>unique_ptr<ul>
<li>不允许多个指针共享资源，可以用标准库中的move函数转移指针</li>
</ul>
</li>
<li>shared_ptr<ul>
<li>多个指针共享资源</li>
</ul>
</li>
<li>weak_ptr<ul>
<li>可复制 shared_ptr ，但其构造或者释放对资源不产生影响</li>
</ul>
</li>
</ul>
<h3 id="Vector"><a href="#Vector" class="headerlink" title="Vector"></a>Vector</h3><p>为什么需要Vector</p>
<ul>
<li>封装任何类型的动态数组，自动创建和删除</li>
<li>数组下标越界检查</li>
</ul>
<p>定义</p>
<ul>
<li>vector&lt;元素类型&gt; 数组对象名(数组长度);</li>
<li>例子：<br>  vector<int> arr(5)  建立大小为5的int数组</li>
</ul>
<p>vector对象的使用</p>
<ul>
<li>对数组元素的引用<br>  与普通数组具有相同形式：<br>  vector对象名[下标表达式]<br>  vector数组对象名不表示数组首地址</li>
<li>获得数组长度<br>  用<code>size</code>函数<br>  vector对象名.size()</li>
</ul>
<h3 id="对象复制和移动"><a href="#对象复制和移动" class="headerlink" title="对象复制和移动"></a>对象复制和移动</h3><p>浅层复制</p>
<ul>
<li>实现对象间数据元素的一一对应复制</li>
</ul>
<p>深层复制</p>
<ul>
<li>当被复制的对象数据成员是指针类型时，不是复制该指针成员本身，而是将指针所指对象进行复制</li>
</ul>
<h4 id="申请和释放动态数组"><a href="#申请和释放动态数组" class="headerlink" title="申请和释放动态数组"></a>申请和释放动态数组</h4><p>分配和释放动态数组</p>
<ul>
<li>分配：new 类型名T [数组长度]<ul>
<li>数组长度可以是任何整数类型表达式，在运行时计算</li>
</ul>
</li>
<li>释放：delete[] 数组名p<ul>
<li>释放指针p所指向的数组</li>
<li>p必须是用new分配得到的数组首地址</li>
</ul>
</li>
</ul>
<p>动态创建多维数组<br>new 类型名T[第1维长度][第2维长度]</p>
<ul>
<li>如果内存申请成功，new 运算返回一个指向新分配内存首地址的指针</li>
<li>例如<br>  char (*fp)[3];<br>  fp &#x3D; new char[2][3]</li>
</ul>
<p>将动态数组封装成类</p>
<ul>
<li>更加简洁，便于管理</li>
<li>可以在访问数组元素前检查下标是否越界</li>
</ul>
<h4 id="移动构造"><a href="#移动构造" class="headerlink" title="移动构造"></a>移动构造</h4><p>C++11中提供了新的构造方法</p>
<p>C++11之前，如果要将源对象的状态转移到目标对象只能通过复制。在某些情况下，我们没有必要复制对象 – 只需要移动它们</p>
<p>移动构造</p>
<ul>
<li>C++11引入移动语义：<ul>
<li>源 对象资源的控制权全部交给目标对象</li>
</ul>
</li>
<li>移动构造函数</li>
</ul>
<p>移动构造函数<br>class_name(class_name &amp;&amp;)</p>
<h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><h4 id="C风格字符串"><a href="#C风格字符串" class="headerlink" title="C风格字符串"></a>C风格字符串</h4><p>字符串常量</p>
<ul>
<li>例如：”program”</li>
<li>各字符连续，顺序存放，每个字符占一个字节，以’\0’结尾，相当于一个隐含创建的字符常量数组</li>
<li>“program” 出现在表达式中，表示这个char数组的首地址</li>
<li>首地址可以赋给char常量指针</li>
<li>const char *STRING1 &#x3D; “program”</li>
</ul>
<p>用字符数组存储字符串</p>
<ul>
<li>例如<br>char str[8] &#x3D; {‘p’,’r’,’o’,’g’,’r’,’a’,’m’,’\0’}<br>char str[8] &#x3D; “program”</li>
<li>缺点<ul>
<li>执行连接，拷贝，比较等操作，都需要显式调用库函数，很麻烦</li>
<li>当字符串长度不确定时，需要用new 动态创建字符数组，最后要用delete释放，很繁琐</li>
<li>字符串实际长度大于为他分配的空间时，会产生数组下标越界的错误</li>
</ul>
</li>
</ul>
<h4 id="string类"><a href="#string类" class="headerlink" title="string类"></a>string类</h4><p>构造函数</p>
<ul>
<li>string() 默认的，建立长度为0的字符串<br>  例如 string s1;</li>
<li>string(const char *s); &#x2F;&#x2F;用指针s所指向的字符串常量初始化string对象<br>  例如 string s2 &#x3D; “abc”;</li>
<li>string(const string&amp; rhs); &#x2F;&#x2F;复制构造函数<br>  例如 string s3 &#x3D; s2;</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://thepatterraining.github.io/C++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E4%B8%83%E7%AB%A0.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/header.jpeg">
      <meta itemprop="name" content="Thepatter">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dream">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/C++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E4%B8%83%E7%AB%A0.html" class="post-title-link" itemprop="url">学堂在线C++程序设计第七章学习笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-02 10:12:47" itemprop="dateCreated datePublished" datetime="2021-08-02T10:12:47+08:00">2021-08-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-01-26 10:07:53" itemprop="dateModified" datetime="2025-01-26T10:07:53+08:00">2025-01-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C++</span></a>
                </span>
            </span>

          
            <span id="/C++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E4%B8%83%E7%AB%A0.html" class="post-meta-item leancloud_visitors" data-flag-title="学堂在线C++程序设计第七章学习笔记" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/C++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E4%B8%83%E7%AB%A0.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/C++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E4%B8%83%E7%AB%A0.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="学堂在线C-程序设计第七章学习笔记"><a href="#学堂在线C-程序设计第七章学习笔记" class="headerlink" title="学堂在线C++程序设计第七章学习笔记"></a>学堂在线C++程序设计第七章学习笔记</h1><h2 id="数组的定义与初始化"><a href="#数组的定义与初始化" class="headerlink" title="数组的定义与初始化"></a>数组的定义与初始化</h2><p>数组是具有一定顺序关系的若干相同类型变量的集合体，组成数组的变量称为该数组的元素</p>
<p>数组的定义</p>
<p>类型说明符 数组名[常量表达式] [常量表达式]…<br>数组名的构成方法与一般变量名相同</p>
<p>例如：</p>
<ul>
<li>int a[10]</li>
<li>int a[5][3]</li>
</ul>
<p>数组的使用</p>
<ul>
<li>数组必须先定义，后使用</li>
<li>可以逐个引用数组元素</li>
<li>例如：<br>a[0] &#x3D; a[5] + a[7]</li>
</ul>
<h3 id="数组的存储和初始化"><a href="#数组的存储和初始化" class="headerlink" title="数组的存储和初始化"></a>数组的存储和初始化</h3><p>一位数组的存储</p>
<p><code>数组元素</code>在内存中顺次存放，它们的<code>地址是连续</code>的。元素间物理地址上的相邻，对应着逻辑次序上的相邻</p>
<p><code>数组名字</code>是数组<code>首元素</code>的内存地址</p>
<p><code>数组名字</code>是一个常量，不能被赋值</p>
<p>一维数组初始化</p>
<ul>
<li>列出全部值<ul>
<li>static int a[5] &#x3D; {0,1,2,3,4}</li>
</ul>
</li>
<li>可以只给一部分元素初始化<ul>
<li>static int a[5] &#x3D; {0,1,2}</li>
</ul>
</li>
<li>列出全部值时，可以不指定长度<ul>
<li>static int a[] &#x3D; {0,1,2,3,4}</li>
</ul>
</li>
</ul>
<p>二维数组的存储</p>
<ul>
<li>按行存放</li>
</ul>
<p>二维数组的初始化</p>
<ul>
<li>列出全部值，按照顺序初始化<ul>
<li>static int a[3][2] &#x3D; {0,1,2,3,4,5}</li>
</ul>
</li>
<li>分行列出二维数组元素的初值<ul>
<li>static int a[3][2] &#x3D; { {0,1},{2,3},{4,5} }</li>
</ul>
</li>
<li>可以只对部分元素初始化<ul>
<li>static int a[3][2] &#x3D; { {0},{1,2},{3} }</li>
</ul>
</li>
<li>列出全部初始值，第一维下标可以省略<ul>
<li>static int a[][2] &#x3D; {0,1,2,3,4,5}</li>
<li>static int a[][2] &#x3D; { {0,1},{2,3},{4,5} }</li>
</ul>
</li>
<li>如果不做任何初始化，局部作用域非静态数组中会存在垃圾数据，static 数组中的数据默认初始化为0</li>
<li>如果只对部分元素初始化，剩下的将自动被初始化为0</li>
</ul>
<h3 id="对象数组"><a href="#对象数组" class="headerlink" title="对象数组"></a>对象数组</h3><p>对象数组的定义和访问</p>
<ul>
<li>定义对象数组<ul>
<li>类名 数组名[元素个数]</li>
</ul>
</li>
<li>访问对象数组<ul>
<li>通过下标访问 数组名[下标].成员名</li>
</ul>
</li>
</ul>
<p>对象数组初始化</p>
<ul>
<li>数组中每一个元素对象被创建时，系统都会调用类构造函数初始化该对象</li>
<li>通过初始化列表赋值<ul>
<li>例如：Point a[2] &#x3D; {Point{1,2}, Point{3,4}}</li>
</ul>
</li>
<li>如果没有为数组元素指定显式初始值，数组元素便使用默认值初始化（调用默认构造函数）</li>
</ul>
<p>数组元素的构造和析构</p>
<ul>
<li>构造数组时，元素所属的类未声明构造函数，则采用默认构造函数</li>
<li>各元素对象的初值要求为相同的值时，可以声明具有默认形参值得构造函数</li>
<li>各元素对象的初值要求为不同的值时，需要声明带形参的构造函数</li>
<li>当数组中每一个对象被删除时，系统需要调用一次析构函数</li>
</ul>
<h3 id="基于范围的for循环"><a href="#基于范围的for循环" class="headerlink" title="基于范围的for循环"></a>基于范围的for循环</h3><p>C++11 提供的</p>
<p>自动遍历整个容器</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> array[<span class="number">3</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;</span><br><span class="line">    <span class="type">int</span> *p;</span><br><span class="line">    <span class="keyword">for</span> (p = array;p &lt; array + <span class="built_in">sizeof</span>(array) / <span class="built_in">sizeof</span>(<span class="type">int</span>); ++p) &#123;</span><br><span class="line">        *p += <span class="number">2</span>;</span><br><span class="line">        std::cout &lt;&lt; *p &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果用基于范围的</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> array[<span class="number">3</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> &amp; e : array) &#123;</span><br><span class="line">        e+=<span class="number">2</span>;</span><br><span class="line">        std::cout &lt;&lt;e &lt;&lt;std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="指针的定义和运算"><a href="#指针的定义和运算" class="headerlink" title="指针的定义和运算"></a>指针的定义和运算</h3><p>内存空间的访问形式：</p>
<ul>
<li>通过变量名访问</li>
<li>通过地址访问</li>
</ul>
<p>指针的概念：</p>
<ul>
<li>指针：内存地址，用于间接访问内存单元</li>
<li>指针变量：用于存放地址的变量</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">static</span> <span class="type">int</span> i;</span><br><span class="line"><span class="type">static</span> <span class="type">int</span>* ptr = &amp;i; <span class="comment">//指向int变量的指针</span></span><br></pre></td></tr></table></figure>

<p>指针运算符 *：表示该变量内存里存储的是地址，并操作存储地址对应的内存空间</p>
<p>地址运算符 &amp;: 表示该变量的地址</p>
<h3 id="指针的初始化和赋值"><a href="#指针的初始化和赋值" class="headerlink" title="指针的初始化和赋值"></a>指针的初始化和赋值</h3><p>指针变量的初始化</p>
<ul>
<li>语法形式<ul>
<li>存储类型 数据类型 *指针名 &#x3D; 初始地址</li>
<li>例如：int *pa &#x3D; &amp;a</li>
</ul>
</li>
<li>注意事项<ul>
<li>用变量地址作为初始值时，该变量必须在指针初始化之前已声明过，且变量类型应与指针类型一致</li>
<li>可以用一个已有合法值的指针去初始化另一个指针变量</li>
<li>不要用一个内部非静态变量去初始化 static 指针</li>
</ul>
</li>
</ul>
<p>指针变量的赋值运算</p>
<ul>
<li>语法形式 指针名 &#x3D; 地址</li>
<li>注意：<ul>
<li><code>地址</code> 中存放的数据类型与指针类型必须相符</li>
<li>向指针变量赋值必须是地址常量或变量，不能是普通整数</li>
</ul>
</li>
<li>例如：<ul>
<li>通过地址运算 <code>&amp;</code> 求得已定义的变量和对象的起始地址</li>
<li>动态内存分配成功时返回的地址</li>
</ul>
</li>
<li>例外：整数0可以赋值给指针，表示空指针</li>
<li>允许定义或声明指向 void 类型的指针。该指针可以被赋予任何类型对象的地址<ul>
<li>void *general;</li>
</ul>
</li>
</ul>
<p>指向常量的指针</p>
<ul>
<li>const 指针</li>
<li>不能通过指向常量的指针改变所指对象的值，但指针本身可以改变，可以指向另外的对象</li>
<li>例如：<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> *p = &amp;a;</span><br><span class="line"><span class="type">int</span> b;</span><br><span class="line">p = &amp;b</span><br><span class="line">*p = <span class="number">2</span>; <span class="comment">//编译出错</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p>指针类型的常量</p>
<ul>
<li>声明指针常量，则指针本身的值不能被改变</li>
<li>例如：<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a;</span><br><span class="line"><span class="type">int</span> * <span class="type">const</span> p2 = *a;</span><br><span class="line">p2 = &amp;b; <span class="comment">//错误</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="指针的运算"><a href="#指针的运算" class="headerlink" title="指针的运算"></a>指针的运算</h3><p>指针的算术运算</p>
<ul>
<li>指针与整数的加减运算<ul>
<li>指针p 加上或减去 n：指针当前指向位置的前方或后方第n个数据的起始位置</li>
</ul>
</li>
<li>指针++，–运算<ul>
<li>指向下一个或前一个完整数据的起始位置</li>
</ul>
</li>
<li>运算的结果值取决于指针指向的数据类型，总是指向一个完整数据的起始位置</li>
<li>当指针指向连续存储的同类型数据时，指针与整数的加减运算和自增自减才有意义</li>
</ul>
<p>指针的关系运算</p>
<ul>
<li>指向相同类型数据的指针之间可以进行各种关系运算</li>
<li>指向不同数据类型的指针，以及指针与一般整形变量之间的关系运算是无意义的</li>
<li>指针可以和零之间进行等于或不等于的关系运算，判断空指针</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://thepatterraining.github.io/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E7%AC%AC%E4%BA%94%E8%8A%82.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/header.jpeg">
      <meta itemprop="name" content="Thepatter">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dream">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E7%AC%AC%E4%BA%94%E8%8A%82.html" class="post-title-link" itemprop="url">数据库系统原理第五节</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-07-31 10:12:47" itemprop="dateCreated datePublished" datetime="2021-07-31T10:12:47+08:00">2021-07-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-01-26 10:07:53" itemprop="dateModified" datetime="2025-01-26T10:07:53+08:00">2025-01-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/" itemprop="url" rel="index"><span itemprop="name">数据库系统原理</span></a>
                </span>
            </span>

          
            <span id="/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E7%AC%AC%E4%BA%94%E8%8A%82.html" class="post-meta-item leancloud_visitors" data-flag-title="数据库系统原理第五节" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E7%AC%AC%E4%BA%94%E8%8A%82.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E7%AC%AC%E4%BA%94%E8%8A%82.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="数据库系统原理第五节"><a href="#数据库系统原理第五节" class="headerlink" title="数据库系统原理第五节"></a>数据库系统原理第五节</h1><h2 id="数据库设计"><a href="#数据库设计" class="headerlink" title="数据库设计"></a>数据库设计</h2><h3 id="数据库设计概述"><a href="#数据库设计概述" class="headerlink" title="数据库设计概述"></a>数据库设计概述</h3><h4 id="数据库的生命周期"><a href="#数据库的生命周期" class="headerlink" title="数据库的生命周期"></a>数据库的生命周期</h4><ul>
<li>数据库分析与设计阶段<ul>
<li>需求分析</li>
<li>概念设计</li>
<li>逻辑设计</li>
<li>物理设计</li>
</ul>
</li>
<li>数据库实现与操作阶段<ul>
<li>实现</li>
<li>操作与监督</li>
<li>修改与调整</li>
</ul>
</li>
</ul>
<h4 id="数据库设计的目标"><a href="#数据库设计的目标" class="headerlink" title="数据库设计的目标"></a>数据库设计的目标</h4><ul>
<li>满足应用功能需求<ul>
<li>存，取，删，改</li>
</ul>
</li>
<li>良好的数据库性能<ul>
<li>高效率存取和空间的节省</li>
<li>共享性，完整性，一致性，安全保密性</li>
</ul>
</li>
</ul>
<h4 id="数据库设计的内容"><a href="#数据库设计的内容" class="headerlink" title="数据库设计的内容"></a>数据库设计的内容</h4><ul>
<li>静态的 数据库结构设计<ul>
<li>数据库概念结构设计</li>
<li>逻辑结构设计</li>
<li>物理结构设计</li>
</ul>
</li>
<li>动态的 数据库行为设计<ul>
<li>功能设计</li>
<li>事务设计</li>
<li>程序设计</li>
</ul>
</li>
</ul>
<h4 id="数据库设计的方法"><a href="#数据库设计的方法" class="headerlink" title="数据库设计的方法"></a>数据库设计的方法</h4><ul>
<li>直观设计法<ul>
<li>最原始的数据库设计方法</li>
</ul>
</li>
<li>规范设计法<ul>
<li>新奥尔良设计法：需求分析，概念结构设计，逻辑结构设计，物理结构设计</li>
<li>基于E-R模型</li>
<li>基于第三范式</li>
</ul>
</li>
<li>计算机辅助设计法<ul>
<li>辅助软件工程工具</li>
</ul>
</li>
</ul>
<h4 id="数据库设计的过程"><a href="#数据库设计的过程" class="headerlink" title="数据库设计的过程"></a>数据库设计的过程</h4><ul>
<li>需求分析</li>
<li>结构设计，行为设计</li>
<li>数据库实施<ul>
<li>加载数据库数据</li>
<li>调试运行应用程序</li>
</ul>
</li>
<li>数据库运行与维护</li>
</ul>
<h3 id="数据库设计的基本步骤"><a href="#数据库设计的基本步骤" class="headerlink" title="数据库设计的基本步骤"></a>数据库设计的基本步骤</h3><h4 id="需求分析"><a href="#需求分析" class="headerlink" title="需求分析"></a>需求分析</h4><p>数据库设计的起点<br>目标：是了解与分析用户的信息及应用处理的要求，并将结果按一定格式整理而形成需求分析报告</p>
<p>该分析报告是后续概念设计，逻辑设计，物理设计，数据库建立与维护的依据</p>
<ul>
<li>确定数据范围<ul>
<li>有效的利用计算机设备及数据库系统的潜在能力</li>
<li>提高数据库的应变能力</li>
<li>避免应用过程中对数据库做太多或太大的修改</li>
<li>延长数据库的生命周期</li>
</ul>
</li>
<li>分析数据应用过程<ul>
<li>用到那些数据</li>
<li>数据使用的顺序</li>
<li>对数据作何处理和处理的策略以及结果</li>
<li><code>应用过程分析的结果是数据库结构设计的重要依据</code></li>
</ul>
</li>
<li>收集与分析数据<ul>
<li>数据收集与分析的<code>任务</code>是了解并分析数据的组成各式及操作特征，每个数据元素的语义及关系等，并将它们收集起来整理归档</li>
<li>静态结构 —不施加应用操作于其上时数据的原数始状况</li>
<li>动态结构 —将应用操作施加于数据之上后数据的状况</li>
<li>数据约束 —使用数据时的特殊要求<ul>
<li>数据的安全保密性</li>
<li>数据的完整性</li>
<li>响应时间</li>
<li>数据恢复</li>
</ul>
</li>
</ul>
</li>
<li>编写需求分析报告<ul>
<li>数据库的应用功能目标</li>
<li>标明不同用户视图范围</li>
<li>应用处理过程需求说明，包括：数据流程图；任务分类表；数据操作特征表；操作过程说明书。</li>
<li>数据字典，是数据库系统中存储三级结构定义的数据库，通常指的是数据库系统中各类数据详细描述的集合。功能是存储和检索各种数据描述，即元数据。包括数据分类表，数据元素表和各类原始资料</li>
<li>数据量</li>
<li>数据约束</li>
</ul>
</li>
</ul>
<h4 id="概念结构设计-重点"><a href="#概念结构设计-重点" class="headerlink" title="概念结构设计 重点"></a>概念结构设计 重点</h4><p>概念模型 – E-R图</p>
<ul>
<li>实体分析法 （自顶向下）</li>
<li>属性综合法 （自底向上）</li>
</ul>
<p>概念模型</p>
<ul>
<li>独立于任何软件与硬件</li>
<li>主要目标：最大限度的满足应用需求</li>
</ul>
<h4 id="逻辑结构设计"><a href="#逻辑结构设计" class="headerlink" title="逻辑结构设计"></a>逻辑结构设计</h4><p>目标：<br>将概念模型转换为等价的，并为特定DBMS所支持数据模型的结构</p>
<p>步骤：</p>
<ol>
<li>模型转换 是将概念模型等价的转换为特定DBMS支持的关系模型，网状模型或层次模型表示</li>
<li>子模式设计的目标是抽取或导出模式的子集，以构造不同用户使用的局部数据逻辑结构</li>
<li>编制应用程序设计说明的目的是为可实际运行的应用程序设计提供依据与指导，并作为设计评价的基础</li>
<li>设计评价的任务是分析并检验模式及子模式的正确性与合理性</li>
</ol>
<h4 id="物理设计"><a href="#物理设计" class="headerlink" title="物理设计"></a>物理设计</h4><p>具体任务主要是确定数据库在存储设备上的<code>存储结构</code>和<code>存取方法</code><br>因DBMS的不同还可能包括<code>建立索引</code>和<code>聚集</code>，以及<code>物理块大小</code>，<code>缓冲区个数和大小</code>，<code>数据压缩的选择</code>等</p>
<h4 id="数据库实施"><a href="#数据库实施" class="headerlink" title="数据库实施"></a>数据库实施</h4><ul>
<li>加载数据</li>
<li>应用程序设计</li>
<li>数据库试运行</li>
</ul>
<h4 id="数据库运行与维护"><a href="#数据库运行与维护" class="headerlink" title="数据库运行与维护"></a>数据库运行与维护</h4><p>保证数据库的正常运行</p>
<p>最困难：<code>数据库重组与重构</code></p>
<h3 id="关系数据库设计方法"><a href="#关系数据库设计方法" class="headerlink" title="关系数据库设计方法"></a>关系数据库设计方法</h3><h4 id="概念模型的表示方法"><a href="#概念模型的表示方法" class="headerlink" title="概念模型的表示方法"></a>概念模型的表示方法</h4><ul>
<li>矩形：实体</li>
<li>椭圆：属性</li>
<li>菱形：联系</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://thepatterraining.github.io/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E7%AC%AC%E5%85%AD%E8%8A%82.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/header.jpeg">
      <meta itemprop="name" content="Thepatter">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dream">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E7%AC%AC%E5%85%AD%E8%8A%82.html" class="post-title-link" itemprop="url">数据库系统原理第六节</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-07-31 10:12:47" itemprop="dateCreated datePublished" datetime="2021-07-31T10:12:47+08:00">2021-07-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-01-26 10:07:53" itemprop="dateModified" datetime="2025-01-26T10:07:53+08:00">2025-01-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/" itemprop="url" rel="index"><span itemprop="name">数据库系统原理</span></a>
                </span>
            </span>

          
            <span id="/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E7%AC%AC%E5%85%AD%E8%8A%82.html" class="post-meta-item leancloud_visitors" data-flag-title="数据库系统原理第六节" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E7%AC%AC%E5%85%AD%E8%8A%82.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E7%AC%AC%E5%85%AD%E8%8A%82.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="数据库系统原理第六节"><a href="#数据库系统原理第六节" class="headerlink" title="数据库系统原理第六节"></a>数据库系统原理第六节</h1><h2 id="数据库设计"><a href="#数据库设计" class="headerlink" title="数据库设计"></a>数据库设计</h2><h3 id="关系数据库设计方法"><a href="#关系数据库设计方法" class="headerlink" title="关系数据库设计方法"></a>关系数据库设计方法</h3><h4 id="逻辑结构设计方法"><a href="#逻辑结构设计方法" class="headerlink" title="逻辑结构设计方法"></a>逻辑结构设计方法</h4><ul>
<li>将E-R图转换为关系模型<ul>
<li>一个实体转换为一个关系模式，实体的属性作为关系的属性，实体的码作为关系的码</li>
<li>一个一对一联系可以转换为一个独立的关系模式，也可以与任意一端对应的关系模式合并</li>
<li>一个一对多联系可以转换为一个独立的关系模式，也可以与N端对应的关系模式合并</li>
<li>一个多对多联系可以转换为一个独立的关系模式，与该联系相连的各实体的码以及联系本身的属性均转换为关系的属性</li>
<li>三个或以上实体间的一个多元联系可以转换为一个关系模式</li>
<li>具有相同码的关系模式可合并</li>
</ul>
</li>
<li>对关系数据模型进行优化<ul>
<li>数据库逻辑设计的结果，<code>不是唯一</code>的</li>
<li>确定各<code>属性</code>间的函数依赖关系</li>
<li>对于各个关系模式之间的数据依赖进行极小化处理，消除<code>冗余</code>的联系</li>
<li>判断每个关系模式的范式，根据实际需要确定最合适的范式</li>
<li>按照<code>需求分析</code>得到的处理要求，分析浙西模式对于这样的应用环境是否合适，确定是否要对某些模式进行合并或分解</li>
<li>对关系模式进行必要的分解，提高<code>数据操作</code>的效率和<code>存储空间</code>的利用率</li>
</ul>
</li>
<li>设计面向用户的外模式</li>
</ul>
<p>设计用户子模式</p>
<ul>
<li>可以通过视图机制在设计用户视图时，重新定义某些属性的别名，使其更符合用户的习惯，以方便使用</li>
<li>可以对不同级别的用户定义不同的视图，以保证系统的安全性。</li>
<li>简化用户对系统的使用</li>
</ul>
<h4 id="物理设计方法"><a href="#物理设计方法" class="headerlink" title="物理设计方法"></a>物理设计方法</h4><p>建立索引</p>
<ul>
<li>逻辑连接</li>
<li>静态建立索引</li>
<li>动态建立索引<br>建立聚集</li>
<li>聚集是将相关数据集中存放的<code>物理存储技术</code></li>
<li>数据聚集结构的一种有效方式是<code>块结构方式</code></li>
<li>数据聚集可在<code>一个或多个</code>关系上建立</li>
</ul>
<h2 id="SQL与关系数据库基本操作"><a href="#SQL与关系数据库基本操作" class="headerlink" title="SQL与关系数据库基本操作"></a>SQL与关系数据库基本操作</h2><h3 id="SQL概述"><a href="#SQL概述" class="headerlink" title="SQL概述"></a>SQL概述</h3><h4 id="什么是SQL"><a href="#什么是SQL" class="headerlink" title="什么是SQL"></a>什么是SQL</h4><p><code>结构化查询语言</code>是专门用来与数据库通信的语言，它可以帮助用户操作关系数据库</p>
<h4 id="SQL的特点"><a href="#SQL的特点" class="headerlink" title="SQL的特点"></a>SQL的特点</h4><p>SQL不是某个特定数据库供应商专有的语言<br>SQL简单易学<br>SQL强大，灵活，可以进行非常复杂和高级的数据库操作</p>
<h4 id="SQL的组成"><a href="#SQL的组成" class="headerlink" title="SQL的组成"></a>SQL的组成</h4><p>数据查询<br>数据定义 DDL</p>
<ul>
<li>CREATE 创建数据库或数据库对象</li>
<li>ALTER 对数据库或数据库对象进行修改</li>
<li>DROP 删除数据库或数据库对象<br>数据操纵 DML</li>
<li>SELECT 从表或视图中检索数据</li>
<li>INSERT 将数据插入到表或视图中</li>
<li>UPDATE 修改表或视图中的数据</li>
<li>DELETE 从表或视图中删除数据<br>数据控制 DCL</li>
<li>GRANT 用于授予权限</li>
<li>REVOKE 用于收回权限</li>
</ul>
<h3 id="MySql预备知识"><a href="#MySql预备知识" class="headerlink" title="MySql预备知识"></a>MySql预备知识</h3><h4 id="MySQL使用基础"><a href="#MySQL使用基础" class="headerlink" title="MySQL使用基础"></a>MySQL使用基础</h4><p>关系数据库管理系统 RDBMS</p>
<p>优点：体积小，速度快，开放源代码，遵循GPL</p>
<h4 id="MySQL扩展语言要素"><a href="#MySQL扩展语言要素" class="headerlink" title="MySQL扩展语言要素"></a>MySQL扩展语言要素</h4><p>常量：也称字面值或标量值</p>
<ul>
<li>字符串常量</li>
<li>数值常量</li>
<li>十六进制常量</li>
<li>时间日期常量</li>
<li>位字段值</li>
<li>布尔值</li>
<li>NULL值</li>
</ul>
<p>变量</p>
<ul>
<li>用户变量<br>用户变量前常添加@</li>
<li>系统变量<br>大多数系统变量前添加两个@@</li>
</ul>
<p>运算符</p>
<ul>
<li>算术运算符</li>
<li>位运算符</li>
<li>比较运算符</li>
<li>逻辑运算符<ul>
<li>NOT</li>
<li>AND</li>
<li>OR</li>
<li>XOR</li>
</ul>
</li>
</ul>
<p>表达式：是常量，变量，列名，复杂计算，运算符合函数的组合</p>
<ul>
<li>字符型表达式</li>
<li>数值型表达式</li>
<li>日期型表达式</li>
</ul>
<p>内置函数</p>
<ul>
<li>数学函数<ul>
<li>ABS</li>
</ul>
</li>
<li>聚合函数<ul>
<li>COUNT</li>
</ul>
</li>
<li>字符串函数</li>
<li>日期和时间函数</li>
<li>加密函数</li>
</ul>
<h3 id="数据定义"><a href="#数据定义" class="headerlink" title="数据定义"></a>数据定义</h3><h4 id="数据库模式定义"><a href="#数据库模式定义" class="headerlink" title="数据库模式定义"></a>数据库模式定义</h4><p>创建数据库<br>使用 <code>CREATE DATABASE</code> 或 <code>CREATE SCHEMA</code>语句</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> &#123;DATABASE <span class="operator">|</span> SCHEMA&#125; [IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span>] db_name</span><br><span class="line">[<span class="keyword">DEFAULT</span>] <span class="type">CHARACTER</span> <span class="keyword">SET</span>[<span class="operator">=</span>]charset_name</span><br><span class="line"><span class="operator">|</span> [<span class="keyword">DEFAULT</span>] <span class="keyword">COLLATE</span>[<span class="operator">=</span>]collation_name</span><br></pre></td></tr></table></figure>

<p>查看数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> &#123;DATABASES <span class="operator">|</span> SCHEMAS&#125;</span><br><span class="line">[<span class="keyword">LIKE</span> <span class="keyword">pattern</span> <span class="operator">|</span> <span class="keyword">WHERE</span> expr] </span><br></pre></td></tr></table></figure>

<p>选择数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use db_name</span><br></pre></td></tr></table></figure>

<p>修改数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> DATABASE db_name</span><br><span class="line"><span class="keyword">DEFAULT</span> <span class="type">CHARACTER</span> <span class="keyword">SET</span> gb2312</span><br><span class="line"><span class="keyword">DEFAULT</span> <span class="keyword">COLLATE</span> gb2312_chinese_ci;</span><br></pre></td></tr></table></figure>

<p>删除数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> &#123;DATABASE<span class="operator">|</span>SCHEMA&#125; [IF <span class="keyword">EXISTS</span>] db_name;</span><br></pre></td></tr></table></figure>




      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://thepatterraining.github.io/C++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E5%85%AD%E7%AB%A0.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/header.jpeg">
      <meta itemprop="name" content="Thepatter">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dream">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/C++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E5%85%AD%E7%AB%A0.html" class="post-title-link" itemprop="url">学堂在线C++程序设计第六章学习笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-07-28 10:12:47" itemprop="dateCreated datePublished" datetime="2021-07-28T10:12:47+08:00">2021-07-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-01-26 10:07:53" itemprop="dateModified" datetime="2025-01-26T10:07:53+08:00">2025-01-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C++</span></a>
                </span>
            </span>

          
            <span id="/C++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E5%85%AD%E7%AB%A0.html" class="post-meta-item leancloud_visitors" data-flag-title="学堂在线C++程序设计第六章学习笔记" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/C++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E5%85%AD%E7%AB%A0.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/C++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E5%85%AD%E7%AB%A0.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="学堂在线C-程序设计第六章学习笔记"><a href="#学堂在线C-程序设计第六章学习笔记" class="headerlink" title="学堂在线C++程序设计第六章学习笔记"></a>学堂在线C++程序设计第六章学习笔记</h1><p>变量和对象定义在不同的位置</p>
<ul>
<li>其作用域，可见性，生存期都不同</li>
</ul>
<p>友元：</p>
<ul>
<li>对一些类外的函数，其他的类，给预授权，使之可以访问类的私有成员</li>
</ul>
<h2 id="标识符的作用域与可见性"><a href="#标识符的作用域与可见性" class="headerlink" title="标识符的作用域与可见性"></a>标识符的作用域与可见性</h2><p>作用域分类：</p>
<ul>
<li>函数原型作用域</li>
<li>局部作用域</li>
<li>类作用域</li>
<li>文件作用域</li>
<li>命名空间作用域</li>
</ul>
<p>函数原型作用域</p>
<ul>
<li>函数原型中的参数</li>
</ul>
<p>类的作用域</p>
<ul>
<li>类的成员具有类作用域，其范围包括类体和成员函数体</li>
<li>在类作用域以外访问类的成员<ul>
<li>静态成员：通过类名，或者该类的对象名，对象引用访问</li>
<li>非静态成员：通过类名，或该类的对象名，对象引用，对象指针访问</li>
</ul>
</li>
</ul>
<p>文件作用域</p>
<ul>
<li>不在前述各个作用域中出现的声明，就具有文件作用域</li>
<li>其作用域开始于声明点，结束于文件尾</li>
</ul>
<p>可见性</p>
<ul>
<li>可见性是从对标识符的引用角度来谈论的</li>
<li>可见性表示从内层作用域向外层作用域“看”时能看见什么</li>
<li>如果标识在某处可见，就可以在该处引用此标识符</li>
<li>如果某个标识符在外层中声明，且在内层中没有同一标识符的声明，则该标识符在内层可见</li>
<li>对于两个嵌套的作用域，如果在内层作用域内声明了与外层作用域中同名的标识符，则外层标识符在内层不可见</li>
</ul>
<h2 id="对象的生存期"><a href="#对象的生存期" class="headerlink" title="对象的生存期"></a>对象的生存期</h2><p>静态生存期</p>
<ul>
<li>这种生存期与程序的运行期相同</li>
<li>在文件作用域中声明的对象具有这种生存期</li>
<li>在函数内部声明静态生存期对象，要冠以关键字static</li>
</ul>
<p>动态生存期</p>
<ul>
<li>开始于程序执行到声明点时，结束于命名该标识符的作用域结束处</li>
<li>块作用域中声明的，没有用static修饰的对象是动态生存期的对象（也称局部生存期对象）</li>
</ul>
<h2 id="静态数据成员"><a href="#静态数据成员" class="headerlink" title="静态数据成员"></a>静态数据成员</h2><ul>
<li>用关键词static修饰</li>
<li>为该类的所有对象共享，静态数据成员具有静态生存期</li>
<li>必须在类外定义和初始化，用（::）来指明所属的类</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span>&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="type">static</span> <span class="type">int</span> count;  <span class="comment">//声明</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> Point::count = <span class="number">0</span>; <span class="comment">//初始化</span></span><br></pre></td></tr></table></figure>

<h3 id="静态函数成员"><a href="#静态函数成员" class="headerlink" title="静态函数成员"></a>静态函数成员</h3><p>静态函数成员主要用来处理静态数据成员</p>
<p>静态函数成员要处理非静态数据成员，需要用对象调用</p>
<h2 id="类的友元"><a href="#类的友元" class="headerlink" title="类的友元"></a>类的友元</h2><ul>
<li>友元是C++提供的一种破坏数据封装和数据隐藏的机制</li>
<li>通过将一个模块声明为另一个模块的友元，一个模块能够引用到另一个模块中本是被隐藏的信息</li>
<li>可以声明友元函数和友元类</li>
<li>为了确保数据的完整性，及数据封装与隐藏的原则，建议慎用友元</li>
</ul>
<p>友元函数</p>
<ul>
<li>友元函数是在类声明中由关键字friend修饰说明的非成员函数，在它的函数体中能够通过对象名访问private和protected成员</li>
<li>作用：增加灵活性，使程序员可以在封装和快速性方面做合理选择</li>
<li>访问对象中的成员必须通过对象名</li>
</ul>
<p>友元类</p>
<ul>
<li>若一个类为另一个类的友元，则此类的所有成员都能访问对方类的私有成员</li>
<li>声明语法：将友元类名在另一个类中使用friend修饰说明</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    <span class="keyword">friend</span> <span class="keyword">class</span> <span class="title class_">B</span>;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            cout &lt;&lt; X &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="type">int</span> X;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">set</span><span class="params">(<span class="type">int</span> i)</span></span>;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        A a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">B::set</span><span class="params">(<span class="type">int</span> i)</span> </span>&#123;</span><br><span class="line">    a.X = i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    a.<span class="built_in">display</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>类的友元关系是单向的：</p>
<ul>
<li>声明B类是A类的友元 不等于 A类是B类的友元</li>
</ul>
<h2 id="共享数据的保护"><a href="#共享数据的保护" class="headerlink" title="共享数据的保护"></a>共享数据的保护</h2><p>常类型</p>
<ul>
<li>常对象：必须进行初始化，不能被更新。<br>  const 类名 对象名</li>
<li>常成员：<br>  用 const 进行修饰的类成员：常数据成员和常函数成员</li>
<li>常引用：被引用的对象不能被更新<br>  const 类型说明符 &amp;引用名；</li>
<li>常数组：数组元素不能被更新<br>  类型说明符 const 数组名[大小]</li>
<li>常指针：指向常量的指针</li>
</ul>
<p>常成员：用const修饰的对象成员</p>
<ul>
<li>常成员函数<ul>
<li>使用const 关键字说明的函数</li>
<li>常成员函数不更新对象的数据成员</li>
<li>常成员函数说明格式：<br>  类型说明符 函数名（参数表）const;<br>  这里，const是函数类型的一个组成部分，因此在实现部分也要带const关键字</li>
<li>const 关键字可以被用于参与对重载函数的区分</li>
<li>通过常对象只能调用它的常成员函数</li>
</ul>
</li>
<li>常数据成员<ul>
<li>使用 const 说明的数据成员</li>
</ul>
</li>
</ul>
<p>常引用</p>
<ul>
<li>在友元函数中用常引用做参数，既能获得较高的执行效率，又能保证实参的安全性</li>
</ul>
<h2 id="多文件结构和预编译处理命令"><a href="#多文件结构和预编译处理命令" class="headerlink" title="多文件结构和预编译处理命令"></a>多文件结构和预编译处理命令</h2><p>C++程序的一般组织结构</p>
<ul>
<li>一个工程可以划分为多个源文件<ul>
<li>类声明文件（.h文件）</li>
<li>类实现文件（.cpp文件）</li>
<li>类的使用文件（main()所在的.cpp文件）</li>
</ul>
</li>
<li>利用工程来组合各个文件</li>
</ul>
<p>文件1 Point.h</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span>&#123;</span><br><span class="line">    <span class="comment">//类的定义</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">Point</span>(<span class="type">int</span> x =<span class="number">0</span>,<span class="type">int</span> y = <span class="number">0</span>):<span class="built_in">x</span>(x),<span class="built_in">y</span>(y)&#123;&#125;</span><br><span class="line">        <span class="built_in">Point</span>(<span class="type">const</span> Point &amp;p);</span><br><span class="line">        <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">showCount</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="type">int</span> x,y;</span><br><span class="line">        <span class="type">static</span> <span class="type">int</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>文件2 Point.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Point.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> Point::cout = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">Point::<span class="built_in">Point</span>(<span class="type">const</span> Point &amp;p):<span class="built_in">x</span>(p.x),<span class="built_in">y</span>(p.y)&#123;</span><br><span class="line">    count++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Point::showCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Object count =&quot;</span> &lt;&lt; count &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>文件3 主函数 main.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Point.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">Point <span class="title">a</span><span class="params">(<span class="number">4</span>,<span class="number">5</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Point A:&quot;</span> &lt; a.<span class="built_in">getX</span>() &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; a.<span class="built_in">getY</span>();</span><br><span class="line">    Point::<span class="built_in">showCount</span>();</span><br><span class="line">    <span class="function">Point <span class="title">b</span><span class="params">(a)</span></span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Point B:&quot;</span> &lt;&lt; b.<span class="built_in">getX</span>() &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; b.<span class="built_in">getY</span>();</span><br><span class="line">    Point::<span class="built_in">showCount</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>外部变量</p>
<ul>
<li>除了在定义它的源文件中可以使用外，还能被其他文件使用</li>
<li>文件作用域中定义的变量，默认情况下都是外部变量</li>
<li>在其它文件中如果需要使用，需要用extern关键字声明</li>
</ul>
<p>外部函数</p>
<ul>
<li>在所有类之外声明的函数（也就是非成员函数），都是具有文件作用域的</li>
<li>这样的函数都可以在不同的编译单元中被调用</li>
<li>只要在调用之前进行引用性声明（即声明函数原型）即可</li>
</ul>
<p>将变量和函数限制在编译单元内</p>
<ul>
<li>在匿名命名空间中定义的变量和函数，都不会暴露给其它的编译单元</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> &#123;</span><br><span class="line">    <span class="comment">//匿名的命名空间</span></span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        n++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>标准C++库</p>
<ul>
<li>标准C++类库是一个极为灵活并可扩展的可重用软件模块的集合</li>
</ul>
<p>标准C++类与组件在逻辑上分为6种类型：</p>
<ul>
<li>输入&#x2F;输出类</li>
<li>容器类与抽象数据类型</li>
<li>存储管理类</li>
<li>算法</li>
<li>错误处理</li>
<li>运行环境支持</li>
</ul>
<p>编译预处理</p>
<ul>
<li>#include 包含指令<ul>
<li>将一个源文件嵌入到当前源文件中该点处</li>
<li>#include&lt;文件名&gt;<ul>
<li>按标准方式搜索，文件位于C++系统目录的include子目录下</li>
</ul>
</li>
<li>#include “文件名”<ul>
<li>首先在当前目录中搜索，若没有，再按标准方式搜索</li>
</ul>
</li>
</ul>
</li>
<li>#define 宏定义指令<ul>
<li>定义符号常量，很多情况下已被const定义语句取代</li>
<li>定义带参数宏，已被内联函数取代</li>
</ul>
</li>
<li>#under<ul>
<li>删除由 #define 定义的宏，使之不再起作用</li>
</ul>
</li>
</ul>
<p>条件编译指令  #if 和 #endif<br>#if 常量表达式<br>    &#x2F;&#x2F;当 常量表达式 非零时编译<br>    程序正文<br>#endif</p>
<p>条件编译指令 #else<br>#if 常量表达式<br>    &#x2F;&#x2F;当 常量表达式 非零时编译<br>    程序正文1<br>#else<br>    &#x2F;&#x2F;当 常量表达式 为零时编译<br>    程序正文2<br>#endif</p>
<p>条件编译指令 #elif<br>#if 常量表达式1<br>    &#x2F;&#x2F;当 常量表达式1 非零时编译<br>    程序正文1<br>#elif 常量表达式2<br>    &#x2F;&#x2F;当 常量表达式2 非零时编译<br>    程序正文2<br>#else<br>    &#x2F;&#x2F;其他情况下编译<br>    程序正文3<br>#endif</p>
<p>条件编译指令<br>#ifdef 标识符<br>    程序段1<br>#else<br>    程序段2<br>#endif</p>
<ul>
<li>如果 <code>标识符</code> 经 #define 定义过，且未经undef删除，则编译程序段1</li>
<li>否则编译程序段2</li>
</ul>
<p>条件编译指令<br>#ifndef 标识符<br>    程序段1<br>#else<br>    程序段2<br>#endif</p>
<ul>
<li>如果<code>标识符</code>未被定义过，则编译程序段1</li>
<li>否则编译程序段2</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://thepatterraining.github.io/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E7%AC%AC%E4%BA%8C%E7%AB%A0.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/header.jpeg">
      <meta itemprop="name" content="Thepatter">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dream">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E7%AC%AC%E4%BA%8C%E7%AB%A0.html" class="post-title-link" itemprop="url">软件工程第二章</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-07-25 10:12:47" itemprop="dateCreated datePublished" datetime="2021-07-25T10:12:47+08:00">2021-07-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-01-26 10:07:53" itemprop="dateModified" datetime="2025-01-26T10:07:53+08:00">2025-01-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">软件工程</span></a>
                </span>
            </span>

          
            <span id="/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E7%AC%AC%E4%BA%8C%E7%AB%A0.html" class="post-meta-item leancloud_visitors" data-flag-title="软件工程第二章" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E7%AC%AC%E4%BA%8C%E7%AB%A0.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E7%AC%AC%E4%BA%8C%E7%AB%A0.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="软件工程第二章"><a href="#软件工程第二章" class="headerlink" title="软件工程第二章"></a>软件工程第二章</h1><h2 id="编程过程与规范"><a href="#编程过程与规范" class="headerlink" title="编程过程与规范"></a>编程过程与规范</h2><p>编程是软件工程师的基本能力</p>
<p>编写优雅的代码是每一个程序员的不懈追求</p>
<p>编程是一门艺术，他能够展示结构之美，构造之美，表达之美</p>
<h3 id="软件变成工作"><a href="#软件变成工作" class="headerlink" title="软件变成工作"></a>软件变成工作</h3><p>软件编程是一个复杂而迭代的过程，它不仅仅是编写代码，还应该包括代码审查，单元测试，代码优化，集成调试等一系列工作。</p>
<p>系统模型到源代码</p>
<ul>
<li>编写代码</li>
<li>代码审查</li>
<li>单元测试</li>
<li>代码优化</li>
<li>系统构建</li>
<li>集成调试</li>
</ul>
<p>高质量软件开发之道</p>
<ul>
<li>规范的编码</li>
<li>高质量的设计</li>
<li>有效的测试</li>
</ul>
<h3 id="软件编程规范"><a href="#软件编程规范" class="headerlink" title="软件编程规范"></a>软件编程规范</h3><p>是与特定语言相关的描写如何编写代码的规则集合</p>
<p>目的</p>
<ul>
<li>提高编码质量，避免不必要的程序错误</li>
<li>增强程序代码的可读性，可重用性和可移植性</li>
</ul>
<p>学会只编写够用的注释，过犹不及，重视质量而不是数量</p>
<ul>
<li>好的注释解释为什么，而不是怎么样</li>
<li>不要在注释中重复描述代码</li>
<li>当自己在编写密密麻麻的注释来解释代码时，需要停下来看是否存在更大的问题</li>
<li>想一想在注释中写什么，不要不动脑筋就输入</li>
<li>写完注释之后要在代码得上下文中回顾一下，它们是否包含正确的信息</li>
<li>当修改代码时，维护代码周围的所有注释</li>
</ul>
<p>命名规范<br>好的名字一目了然，不需要读者去猜，甚至不需要注释</p>
<p>编写自文档化的代码</p>
<ul>
<li>唯一能完整并正确的描述代码的文档是代码本身</li>
<li>编写可以阅读的代码，其本身简单易懂</li>
</ul>
<h2 id="良好的编程实践"><a href="#良好的编程实践" class="headerlink" title="良好的编程实践"></a>良好的编程实践</h2><p>看：阅读优秀的代码，学习别人的代码<br>问：发现问题，提出问题<br>练：亲自动手编写代码，实践，实践，再实践</p>
<p>高质量的设计</p>
<ul>
<li>模块化设计：将一个大的程序按功能分拆成一系列小模块</li>
<li>面向抽象编程</li>
<li>错误与异常处理</li>
</ul>
<p>基于易变与稳定：认识和识别变与不变的部分，并将之科学地分离开<br>易变：业务逻辑<br>稳定：通用功能</p>
<p>基于单一职责：类或者函数应该只做一件事，并且做好这件事<br>单一职责：只有一个引起变化的原因</p>
<p>在模块化设计的基础上，先设计出各个模块的骨架，或者说对各个模块进行抽象，定义它们之间的接口</p>
<h2 id="代码静态检查"><a href="#代码静态检查" class="headerlink" title="代码静态检查"></a>代码静态检查</h2><p>代码审查是一种用来确认方案设计和代码实现的质量保证机制，它通过阅读代码来检查源代码与编码规范的符合性以及代码得质量。</p>
<p>代码审查的作用：</p>
<ul>
<li>检查设计的合理性</li>
<li>互为Backup</li>
<li>分享知识，设计，技术</li>
<li>增加代码可读性</li>
<li>处理代码中的“地雷区”</li>
</ul>
<p>检查编码规范<br>面向对象设计<br>性能方面<br>资源释放处理<br>程序流程<br>线程安全<br>数据库处理<br>通讯方面<br>异常处理<br>方法<br>安全方面<br>其他</p>
<h2 id="代码性能分析"><a href="#代码性能分析" class="headerlink" title="代码性能分析"></a>代码性能分析</h2><p>优化师对代码进行等价变换，使得变换后的代码运行结果与变换前的代码运行结果相同，但执行速度加快或存储开销减少</p>
<ul>
<li>代码性能优化师一门复杂的学问</li>
<li>根据80&#x2F;20原则，实现程序的重构，优化，扩展以及文档相关的事情通常需要消耗80%的工作量</li>
</ul>
<p>满足正确性，可靠性，健壮性，可读性等质量因素的前提下，设法提高程序的效率<br>以提高程序的全局效率为主，提高局部效率为辅<br>在优化程序效率时，应先找出限制效率的“瓶颈”<br>先优化数据结构和算法，再优化执行代码</p>
<p>从一开始就要考虑程序性能，不要期待在开发结束后在做一些快速调整<br>正确的代码要比速度快的代码重要，任何优化都不能破坏代码得正确性</p>
<ul>
<li>证明需要进行优化</li>
<li>找出优化关键部门</li>
<li>测试代码</li>
<li>优化代码</li>
<li>评测优化后的代码</li>
</ul>
<p>认真选择测试数据<br>永远不要在没有执行前后性能评估的情况下尝试对代码进行优化</p>
<p>性能优化的关键是如何发现问题，寻找解决问题的方法<br>有效的测试是不可缺少的，通过测试找出真正的瓶颈，并分析优化结果<br>要避免不必要的优化，避免不成熟的优化，不成熟的优化师错误的来源</p>
<p>改进算法，选择合适的数据结构</p>
<ul>
<li>良好的算法对性能起到关键作用，因此性能改进的首要点是对算法改进</li>
</ul>
<p>循环优化的基本原则：尽量减少循环过程中的计算量，在多重循环的时候，尽量将内层的计算提到上一层</p>
<h2 id="结对编程"><a href="#结对编程" class="headerlink" title="结对编程"></a>结对编程</h2><p>结对编程是由两名程序员在同一台电脑上结对编写解决同一问题的代码</p>
<p>驾驶员：负责用键盘编写程序<br>领航员：起到领航，提醒的作用</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://thepatterraining.github.io/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86%E7%AC%AC%E4%B8%89%E8%8A%82.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/header.jpeg">
      <meta itemprop="name" content="Thepatter">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dream">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86%E7%AC%AC%E4%B8%89%E8%8A%82.html" class="post-title-link" itemprop="url">数据库原理第三节</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-07-24 10:12:47" itemprop="dateCreated datePublished" datetime="2021-07-24T10:12:47+08:00">2021-07-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-01-26 10:07:53" itemprop="dateModified" datetime="2025-01-26T10:07:53+08:00">2025-01-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/php/" itemprop="url" rel="index"><span itemprop="name">php</span></a>
                </span>
            </span>

          
            <span id="/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86%E7%AC%AC%E4%B8%89%E8%8A%82.html" class="post-meta-item leancloud_visitors" data-flag-title="数据库原理第三节" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86%E7%AC%AC%E4%B8%89%E8%8A%82.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86%E7%AC%AC%E4%B8%89%E8%8A%82.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="数据库原理第三节"><a href="#数据库原理第三节" class="headerlink" title="数据库原理第三节"></a>数据库原理第三节</h1><h2 id="关系数据模型"><a href="#关系数据模型" class="headerlink" title="关系数据模型"></a>关系数据模型</h2><h3 id="关系数据结构"><a href="#关系数据结构" class="headerlink" title="关系数据结构"></a>关系数据结构</h3><p>码或键：<br><code>属性（属性组）的值</code>都能用来<code>唯一标识</code>该关系的元组，则称这些属性为该关系的<code>码或键</code></p>
<p>超码或超键：<br>在码中去除某个属性，他仍然是这个关系的码</p>
<p>候选码或候选键：<br>在码中不能从中移去任何一个属性，否则它就不再是这个关系的码或键。候选码或候选键是这个关系的最小超码或超键</p>
<p>主属性或码属性：</p>
<p>主码或主键：<br>在若干个候选码中指定一个唯一标识关系的元组（行）</p>
<p>全码或全键：<br>一个关系模式的所有属性集合是这个关系的主码或主键，这样的主码或主键称为全码或全键</p>
<p>外码或外键：<br>某个属性不是这个关系的主码或候选码，而是另一个关系的主码</p>
<p><code>参照关系</code>和<code>被参照关系</code>:<br>参照关系称为从关系，被参照关系称为主关系，它们是指以外码相关联的两个关系</p>
<p>域：<br>表示属性的取值范围</p>
<p>数据类型：<br>每个列都有相应的数据类型，它用于限制（或容许）该列中存储的数据</p>
<p>关系模式：<br>关系模式是<code>型</code>，关系是<code>值</code>，即关系模式是对关系的描述。</p>
<p>关系模式是静态的，稳定的</p>
<p>关系是动态的，随时间不断变化的。</p>
<p>关系数据库：<br>所有关系的集合，构成一个关系数据库<br>以关系模型作为数据的逻辑模型，并采用关系作为数据组织方式的一类数据库，其数据库操作建立在关系代数的基础上</p>
<p>关系数据库对关系的限定&#x2F;要求：</p>
<ul>
<li>每一个属性都是不可分解的</li>
<li>每一个关系仅仅有一种关系模式</li>
<li>每一个关系模式中的属性必须命名，属性名不同</li>
<li>同一个关系中不允许出现候选码或候选键值完全相同的元组</li>
<li>在关系中元组的顺序是无关紧要的，可以任意交换</li>
<li>在关系中属性的顺序是无关紧要的，可以任意交换</li>
</ul>
<h3 id="基本的关系操作"><a href="#基本的关系操作" class="headerlink" title="基本的关系操作"></a>基本的关系操作</h3><p>查询Query:</p>
<ul>
<li>选择</li>
<li>投影</li>
<li>并</li>
<li>差</li>
<li>笛卡尔积<br>从上面的基本的组合：</li>
<li>连接</li>
<li>除</li>
<li>交</li>
</ul>
<p>特点：集合操作方式</p>
<h3 id="关系数据语言的分类"><a href="#关系数据语言的分类" class="headerlink" title="关系数据语言的分类"></a>关系数据语言的分类</h3><p>关系代数语言</p>
<p>关系演算语言</p>
<ul>
<li>元组关系演算</li>
<li>域关系演算</li>
</ul>
<p>SQL结构化查询语言</p>
<p>共同特点：具有完备的表达能力，是非过程化的集合操作语言，功能强，能够独立使用也可以嵌入高级语言中使用。</p>
<h3 id="关系代数的运算符"><a href="#关系代数的运算符" class="headerlink" title="关系代数的运算符"></a>关系代数的运算符</h3><p>任何一种操作都包含三大要素</p>
<ul>
<li>操作对象</li>
<li>操作符</li>
<li>操作结果</li>
</ul>
<h3 id="传统的集合运算"><a href="#传统的集合运算" class="headerlink" title="传统的集合运算"></a>传统的集合运算</h3><p>并，差，交，笛卡尔积</p>
<h3 id="专门的关系运算"><a href="#专门的关系运算" class="headerlink" title="专门的关系运算"></a>专门的关系运算</h3><p>选择，投影，连接，除</p>
<p>选择 select：a<br>a id &#x3D; 1 (user) &#x2F;&#x2F;获取id &#x3D; 1的user表的数据<br>相当于这个SQL：select * from user where id &#x3D; 1<br>a id &#x3D; 1 ^ name &#x3D; ‘abc’ (user)<br>SQL: select * from user where id &#x3D; 1 and name &#x3D; ‘abc’</p>
<p>投影 projection：π<br>projection 关系名（属性名1，。。。） 选出要展示的列<br>π id,name (id &#x3D; 1 ^ name &#x3D; ‘abc’ (user))<br>SQL: select id,name from (select * from user where id &#x3D; 1 and name &#x3D; ‘abc’)</p>
<p>并集 union：union 需要两个表的属性值一样才可以，假设两个表都是id,name字段那么可以，如果一个表有三个字段就不行<br>t1 union t2, 就是把两个表合并<br>SQL: (select * from t1) union all (select * from t2)  &#x2F;&#x2F;和union不完全一样</p>
<p>交集 intersection：和union要求一样，选的是交集<br>t1 intersect t2</p>
<p>差集 difference: 和union要求一样，取得是第一个表出现过第二表没出现的数据<br>t1 except t2</p>
<p>笛卡尔积 product: 把两个表所有的组合列出来<br>t1 * t2<br>SQL: select * from t1 cross join t2</p>
<p>连接 join: 取某个字段值相同的数据，和sql的join差不多<br>t1 join t2<br>SQL: select * from t1 natural join t2</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://thepatterraining.github.io/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86%E7%AC%AC%E5%9B%9B%E8%8A%82.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/header.jpeg">
      <meta itemprop="name" content="Thepatter">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dream">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86%E7%AC%AC%E5%9B%9B%E8%8A%82.html" class="post-title-link" itemprop="url">数据库原理第四节</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-07-24 10:12:47" itemprop="dateCreated datePublished" datetime="2021-07-24T10:12:47+08:00">2021-07-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-01-26 10:07:53" itemprop="dateModified" datetime="2025-01-26T10:07:53+08:00">2025-01-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/php/" itemprop="url" rel="index"><span itemprop="name">php</span></a>
                </span>
            </span>

          
            <span id="/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86%E7%AC%AC%E5%9B%9B%E8%8A%82.html" class="post-meta-item leancloud_visitors" data-flag-title="数据库原理第四节" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86%E7%AC%AC%E5%9B%9B%E8%8A%82.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86%E7%AC%AC%E5%9B%9B%E8%8A%82.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="数据库原理第四节"><a href="#数据库原理第四节" class="headerlink" title="数据库原理第四节"></a>数据库原理第四节</h1><h2 id="关系数据模型"><a href="#关系数据模型" class="headerlink" title="关系数据模型"></a>关系数据模型</h2><h3 id="关系的完整性约束"><a href="#关系的完整性约束" class="headerlink" title="关系的完整性约束"></a>关系的完整性约束</h3><p>数据库的数据完整性是指数据库中数据的<code>正确性</code>，<code>相容性</code>，<code>一致性</code></p>
<p>分类：</p>
<ul>
<li>实体完整性约束：主码的组成不能为空，主属性不能是空值NULL</li>
<li>参照完整性约束：要么外码等于主码某个元组的主码值，要么为空值</li>
<li>用户定义完整性约束</li>
<li>域完整性约束</li>
</ul>
<p>执行插入操作检查：</p>
<ul>
<li>检查实体完整性约束</li>
<li>插入外码表的时候检查参照完整性约束</li>
<li>检查用户定义完整性约束</li>
</ul>
<p>执行删除操作：<br>一般只需要对被参照关系检查参照完整性约束</p>
<h2 id="关系数据库的规范化理论"><a href="#关系数据库的规范化理论" class="headerlink" title="关系数据库的规范化理论"></a>关系数据库的规范化理论</h2><h3 id="关系模式中可能存在的冗余和异常问题"><a href="#关系模式中可能存在的冗余和异常问题" class="headerlink" title="关系模式中可能存在的冗余和异常问题"></a>关系模式中可能存在的冗余和异常问题</h3><ul>
<li>数据冗余</li>
<li>更新异常</li>
<li>插入异常</li>
<li>删除异常</li>
</ul>
<h3 id="函数依赖与关键字"><a href="#函数依赖与关键字" class="headerlink" title="函数依赖与关键字"></a>函数依赖与关键字</h3><p>设R为任一给定关系，如果对于R中属性X的每一个值，R中的属性Y只有唯一值与之对应，则称X函数决定Y或称Y函数依赖于X，记作X-&gt;Y.其中X称为<code>决定因素</code></p>
<p>分类：</p>
<ul>
<li>完全函数依赖</li>
<li>部分函数依赖</li>
<li>传递函数依赖</li>
</ul>
<p> 完全函数依赖：<br> 设R为任一给定关系，X,Y为其属性集，若X-&gt;Y，且对X中的任何真子集X’，都有X’不依赖Y,则称Y完全函数依赖于X</p>
<p> 部分函数依赖：<br> 设R为任一给定关系，X,Y为其属性集，若X-&gt;Y,且X中存在一个真子集X’,都有X’-&gt;Y，则称Y部分依赖于X</p>
<p> 传递函数依赖：<br> 设R为任一给定关系，X,Y,Z为其不同属性子集，若X-&gt;Y,Y不决定X,Y-&gt;Z,则有X-&gt;Z，称为Z传递函数依赖于X。</p>
<p> 关键字的定义：<br> 设R为任一给定关系，U为其所含的全部属性集合，X为U的子集，若有完全函数依赖X-&gt;U，则X为R的一个候选关键字。</p>
<h3 id="范式与关系规范化过程"><a href="#范式与关系规范化过程" class="headerlink" title="范式与关系规范化过程"></a>范式与关系规范化过程</h3><p>一个低一级范式的关系模式通过<code>模式分解</code>可以转换为若干个高一级范式的关系模式的集合，这种过程就叫<code>规范化</code></p>
<p>第一范式1NF:<br>设R为任一给定关系，如果R中每个列与行的交点处的取值都是不可再分的基本元素，则R为第一范式</p>
<p>第二范式2NF:<br>设R为任一给定关系，若R为1NF<br>且其所有非主属性都完全函数依赖于候选关键字，则R为第二范式。</p>
<p>第三范式3NF:<br>设R为任一给定关系，若R为2NF<br>且其每一个非主属性都不传递函数依赖于候选关键字，则R为第三范式。</p>
<p>第三范式的改进形式BCNF:<br>设R为任意给定关系，X,Y为其属性集，F为其函数依赖集，若R为3NF<br>且其F中所有函数依赖X-&gt;Y(Y不属于X)中的X比包含候选关键字，则R为BCNF</p>
<p>有部分函数依赖就是1NF，没有就是2NF，没有传递函数依赖就是3NF</p>
<p>1NF-&gt;2NF<br>找到候选关键字，看其余的属性是否完全函数依赖候选关键字<br>是的，与候选关键字一同抄下来形成一个表格<br>不是的，抄下来，形成第二个表格，并且将候选关键字里能够唯一决定表格2的属性组抄在第一列</p>
<p>2NF-&gt;3NF<br>找到表格中的传递函数依赖关系的三个属性组，设为X,Y,Z<br>将这三个属性组拆成两个表格<br>第一个表格为X,Y<br>第二个表格为Y,Z</p>
<p>3NF-&gt;BCNF<br>列出表格中的所有函数依赖关系<br>每个关系拆出一个表格</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://thepatterraining.github.io/C++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E4%BA%94%E7%AB%A0.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/header.jpeg">
      <meta itemprop="name" content="Thepatter">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dream">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/C++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E4%BA%94%E7%AB%A0.html" class="post-title-link" itemprop="url">学堂在线C++程序设计第五章学习笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-07-21 10:12:47" itemprop="dateCreated datePublished" datetime="2021-07-21T10:12:47+08:00">2021-07-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-01-26 10:07:53" itemprop="dateModified" datetime="2025-01-26T10:07:53+08:00">2025-01-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C++</span></a>
                </span>
            </span>

          
            <span id="/C++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E4%BA%94%E7%AB%A0.html" class="post-meta-item leancloud_visitors" data-flag-title="学堂在线C++程序设计第五章学习笔记" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/C++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E4%BA%94%E7%AB%A0.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/C++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E4%BA%94%E7%AB%A0.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="学堂在线C-程序设计第五章学习笔记"><a href="#学堂在线C-程序设计第五章学习笔记" class="headerlink" title="学堂在线C++程序设计第五章学习笔记"></a>学堂在线C++程序设计第五章学习笔记</h1><h2 id="类与对象"><a href="#类与对象" class="headerlink" title="类与对象"></a>类与对象</h2><p>对象：现实中对象的模拟，具有属性和行为。<br>类：同一类对象的共同属性和行为</p>
<p>定义对象时：通过构造函数初始化<br>删除对象时：通过析构函数释放资源</p>
<h3 id="面向对象程序的基本特点"><a href="#面向对象程序的基本特点" class="headerlink" title="面向对象程序的基本特点"></a>面向对象程序的基本特点</h3><p>抽象：对同一类对象的共同属性和行为进行概括，形成类</p>
<p>封装：将抽象出的数据，代码封装在一起，形成类</p>
<p>继承：在已有类的基础上，进行扩展形成新的类</p>
<p>多态：同一名称，不同的功能实现方式</p>
<h3 id="类和对象"><a href="#类和对象" class="headerlink" title="类和对象"></a>类和对象</h3><p>设计类就是设计类型</p>
<ul>
<li>此类型的“合法值”是什么</li>
<li>此类型应该有什么样的函数和操作符</li>
<li>新类型的对象该如何被创建和销毁</li>
<li>如何进行对象的初始化和赋值</li>
<li>对象作为函数的参数如何以值传递</li>
<li>谁将使用此类型的对象成员</li>
</ul>
<p>类定义的语法形式</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> 类名称</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        公有成员（外部接口）</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        私有成员</span><br><span class="line">    <span class="keyword">protected</span>:</span><br><span class="line">        保护型成员</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>类的成员函数</p>
<ul>
<li>在类中声明函数原型</li>
<li>可以在类外给出函数体实现，并在函数名前使用类名加以限定</li>
<li>也可以直接在类中给出函数体，形成内联成员函数</li>
<li>允许声明重载函数和带默认参数值得函数</li>
</ul>
<h3 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h3><p>类中的特殊函数<br>用于描述初始化算法</p>
<p>作用：</p>
<ul>
<li>在对象被创建时使用特定的值构造对象，将对象<code>初始化</code>为一个特定的初始状态</li>
</ul>
<p>形式：</p>
<ul>
<li>函数名与类名相同</li>
<li>不能定义返回值类型，也不能有return语句</li>
<li>可以有形式参数，也可以没有形式参数</li>
<li>可以是内联函数</li>
<li>可以重载</li>
<li>可以带默认参数值</li>
</ul>
<p>调用时机</p>
<ul>
<li>在对象创建时被自动调用</li>
<li>例如：<br>  Clock myClock(0,0,0)</li>
</ul>
<p>默认构造函数</p>
<ul>
<li>调用时可以不需要实参的构造函数<ul>
<li>参数表为空的构造函数</li>
<li>全部参数都有默认值的构造函数</li>
</ul>
</li>
</ul>
<p>隐含生成的构造函数</p>
<ul>
<li>如果程序中未定义构造函数，编译器将自动生成一个默认构造函数</li>
<li>参数列表为空，不为数据成员设置初始值</li>
<li>如果类内定义了成员的初始值，则使用内类定义的初始值</li>
<li>如果没有定义类内的初始值，则以默认方式初始化</li>
<li>基本类型的数据默认初始化的值是不确定的</li>
</ul>
<p>复制构造函数</p>
<ul>
<li>复制构造函数是一种特殊的构造函数，其形参为本类的对象引用。作用是用一个已存在的对象去初始化同类型的新对象。</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> 类名&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        类名（<span class="type">const</span> 类名 &amp;对象名）; <span class="comment">//复制构造函数</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">类名::类（<span class="type">const</span> 类名 &amp;对象名） &#123;</span><br><span class="line">    函数体</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>复制构造函数被调用的三种情况</p>
<ul>
<li>定义一个对象时，以本类另一个对象作为初始值，发生复制构造</li>
<li>如果函数的形参是类的对象，调用函数时，将使用实参对象初始化形参对象，发生复制构造</li>
<li>如果函数的返回值是类的对象，函数执行完成返回主调函数时，将使用return语句中的对象初始化一个临时无名对象，传递给主调函数，此时发生复制构造</li>
</ul>
<p>隐含的复制改造函数</p>
<ul>
<li>如果没有为类声明拷贝初始化构造函数，则编译器自己生成一个隐含的复制构造函数</li>
<li>这个构造函数执行的功能是：用初始值对象的每个数据成员，初始化将要建立的对象的对应数据成员</li>
</ul>
<h3 id="析构函数"><a href="#析构函数" class="headerlink" title="析构函数"></a>析构函数</h3><ul>
<li>完成对象被删除前的一些清理工作。</li>
<li>在对象的生存期结束的时刻系统自动调用它，然后再释放此对象所属的空间。</li>
<li>如果程序中未声明析构函数，编译器将自动产生一个默认的析构函数，其函数体为空。</li>
<li>析构函数的原型：~类名（）</li>
<li>析构函数没有参数，没有返回类型</li>
</ul>
<h3 id="类的组合"><a href="#类的组合" class="headerlink" title="类的组合"></a>类的组合</h3><ul>
<li>类中的成员是另一个类的对象</li>
<li>可以在已有抽象的基础上实现更复杂的抽象</li>
</ul>
<p>类组合的构造函数设计</p>
<ul>
<li>原则:不仅要对本类中的基本类型成员数据初始化，也要对对象成员初始化</li>
<li>声明形式：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">类名::类名（对象成员所需的形参，本类成员的形参）：</span><br><span class="line">对象1（参数），对象2（参数）,...</span><br><span class="line">&#123;</span><br><span class="line">    //函数体</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>构造组合类对象时的初始化次序</p>
<ul>
<li>首先对构造函数初始化列表中列出的成员（包括基本类型和对象成员）进行初始化，初始化次序是成员在类体中定义的次序<ul>
<li>成员对象构造函数调用顺序：按对象成员的定义顺序，先声明者先构造</li>
<li>初始化列表中未出现的成员对象，调用默认构造函数（即无形参）的初始化</li>
</ul>
</li>
<li>处理完初始化列表后，再执行构造函数的函数体</li>
</ul>
<h3 id="结构体"><a href="#结构体" class="headerlink" title="结构体"></a>结构体</h3><p>结构体是一种特殊形态的类<br>与类的唯一区别</p>
<ul>
<li>类的缺省访问权限是private</li>
<li>结构体的缺省访问权限是public</li>
</ul>
<p>什么时候用结构体</p>
<ul>
<li>定义主要用来保存数据，而没有什么操作的类型</li>
<li>人们习惯将结构体的数据成员设为公有，因此这时用结构体更方便</li>
</ul>
<p>定义</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> 结构体名称&#123;</span><br><span class="line">    共有成员</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    保护型成员</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    私有成员</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>结构体中可以有数据成员和函数成员</p>
<p>结构体的初始化<br>如果：</p>
<ul>
<li>一个结构体的全部数据成员都是公共成员</li>
<li>没有用户定义的构造函数</li>
<li>没有基类和虚函数</li>
</ul>
<p>这个结构体的变量可以用下面的语法形式初始化<br>类型名 变量名 &#x3D; {成员数据1初始值,…}</p>
<h3 id="联合体"><a href="#联合体" class="headerlink" title="联合体"></a>联合体</h3><p>定义</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">union</span> 联合体名称&#123;</span><br><span class="line">    共有成员</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    保护型成员</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    私有成员</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>特点：</p>
<ul>
<li>成员共用同一组内存单元</li>
<li>任何两个成员不会同时有效</li>
</ul>
<h3 id="枚举类"><a href="#枚举类" class="headerlink" title="枚举类"></a>枚举类</h3><p>定义<br>enum class 枚举类型名：底层类型{枚举值列表}<br>例子：<br>enum class Type{General,Light}<br>enum class Type:char{General,Light}</p>
<p>枚举类的优势</p>
<ul>
<li>强作用域：作用域限制在枚举类中</li>
<li>转换限制：枚举类对象不可以与整型隐式转换</li>
<li>可以指定底层类型</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://thepatterraining.github.io/C++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E5%9B%9B%E7%AB%A0.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/header.jpeg">
      <meta itemprop="name" content="Thepatter">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dream">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/C++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E5%9B%9B%E7%AB%A0.html" class="post-title-link" itemprop="url">学堂在线C++程序设计第四章学习笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-07-21 10:12:47" itemprop="dateCreated datePublished" datetime="2021-07-21T10:12:47+08:00">2021-07-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-01-26 10:07:53" itemprop="dateModified" datetime="2025-01-26T10:07:53+08:00">2025-01-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C++</span></a>
                </span>
            </span>

          
            <span id="/C++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E5%9B%9B%E7%AB%A0.html" class="post-meta-item leancloud_visitors" data-flag-title="学堂在线C++程序设计第四章学习笔记" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/C++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E5%9B%9B%E7%AB%A0.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/C++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E5%9B%9B%E7%AB%A0.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="学堂在线C-程序设计第四章学习笔记"><a href="#学堂在线C-程序设计第四章学习笔记" class="headerlink" title="学堂在线C++程序设计第四章学习笔记"></a>学堂在线C++程序设计第四章学习笔记</h1><h2 id="函数定义"><a href="#函数定义" class="headerlink" title="函数定义"></a>函数定义</h2><p>函数：定义好的可重用功能模块</p>
<p>定义函数：将一个模块的算法用C++描述出来</p>
<p>函数的返回值：需要返回的计算结果</p>
<p>定义函数的语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">类型标识符 函数名（形式参数表）</span><br><span class="line">&#123;</span><br><span class="line">    语句</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>形式参数表</p>
<ul>
<li>&lt;类型名&gt; 参数名，…</li>
</ul>
<p>返回值</p>
<ul>
<li>return 一个计算结果</li>
<li>返回的类型是类型标识符的类型</li>
<li>没有返回值，类型标识符写<code>void</code></li>
</ul>
<h2 id="函数调用"><a href="#函数调用" class="headerlink" title="函数调用"></a>函数调用</h2><p>调用函数前需要先声明函数原型</p>
<p>函数原型</p>
<ul>
<li>类型标识符</li>
<li>被调用函数名</li>
<li>（类型说明的形参表）</li>
</ul>
<p>函数调用</p>
<ul>
<li>函数名（实参列表）</li>
</ul>
<h3 id="计算x的n次方"><a href="#计算x的n次方" class="headerlink" title="计算x的n次方"></a>计算x的n次方</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">pow</span><span class="params">(<span class="type">double</span> x, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="type">double</span> sum = <span class="number">1.0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        sum = x * sum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">double</span> sum = <span class="built_in">pow</span>(<span class="number">2</span>,<span class="number">4</span>);</span><br><span class="line">    cout &lt;&lt; sum;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="进制转换"><a href="#进制转换" class="headerlink" title="进制转换"></a>进制转换</h3><p>输入一个8位二进制，输出十进制</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">pow</span><span class="params">(<span class="type">double</span> x, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="type">double</span> sum = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        sum *= x;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;x:&quot;</span>&lt;&lt;x&lt;&lt;<span class="string">&quot;n:&quot;</span>&lt;&lt;n&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> h = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">7</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="type">char</span> d;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;输入：&quot;</span>;</span><br><span class="line">        cin &gt;&gt; d;</span><br><span class="line">        <span class="keyword">if</span> (d == <span class="string">&#x27;1&#x27;</span>) &#123;</span><br><span class="line">            <span class="comment">//转换进制</span></span><br><span class="line">            h += <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(<span class="built_in">pow</span>(<span class="number">2</span>, i));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; h;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="计算圆周率"><a href="#计算圆周率" class="headerlink" title="计算圆周率"></a>计算圆周率</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">arctan</span><span class="params">(<span class="type">double</span> x)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">          <span class="type">double</span> sqr = x * x;</span><br><span class="line"></span><br><span class="line">          <span class="type">double</span> e = x;</span><br><span class="line"></span><br><span class="line">          <span class="type">double</span> r = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">          <span class="type">int</span> i = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">while</span> (e / i &gt; <span class="number">1e-15</span>) &#123;</span><br><span class="line"></span><br><span class="line">                   <span class="type">double</span> f = e / i;</span><br><span class="line"></span><br><span class="line">                   r = (i % <span class="number">4</span> == <span class="number">1</span>) ? r + f : r - f;</span><br><span class="line"></span><br><span class="line">                   e = e * sqr;</span><br><span class="line"></span><br><span class="line">                   i += <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">return</span> r;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">          <span class="type">double</span> a = <span class="number">16.0</span> * <span class="built_in">arctan</span>(<span class="number">1</span>/<span class="number">5.0</span>);</span><br><span class="line"></span><br><span class="line">          <span class="type">double</span> b = <span class="number">4.0</span> * <span class="built_in">arctan</span>(<span class="number">1</span>/<span class="number">239.0</span>);</span><br><span class="line"></span><br><span class="line">          <span class="comment">//注意：因为整数相除结果取整，如果参数写1/5，1/239，结果就都是0</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">          cout &lt;&lt; <span class="string">&quot;PI = &quot;</span> &lt;&lt; a - b &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="求回文"><a href="#求回文" class="headerlink" title="求回文"></a>求回文</h3><p>寻找并输出11~999之间的数M，它满足M、M<sup>2</sup>和M<sup>3</sup>均为回文数。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 判断是否是回文</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">symm</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> i = n;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> m = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &gt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">/* code */</span></span><br><span class="line">        m = m * <span class="number">10</span> + i % <span class="number">10</span>;</span><br><span class="line">        i /= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> m == n;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">11</span>; i &lt;= <span class="number">999</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">symm</span>(i) &amp;&amp; <span class="built_in">symm</span>(i * i) &amp;&amp; <span class="built_in">symm</span>(i * i *i)) &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;m = &quot;</span> &lt;&lt; i &lt;&lt; endl;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;m * m =&quot;</span> &lt;&lt; i * i &lt;&lt; endl;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;m * m * m = &quot;</span> &lt;&lt; i * i*i &lt;&lt;endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="计算分段函数，并输出结果"><a href="#计算分段函数，并输出结果" class="headerlink" title="计算分段函数，并输出结果"></a>计算分段函数，并输出结果</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">double</span> IINY_VALUE = <span class="number">1e-10</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">tsin</span><span class="params">(<span class="type">double</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="type">double</span> g = <span class="number">0</span>;</span><br><span class="line">    <span class="type">double</span> t = x;</span><br><span class="line">    <span class="type">int</span> n = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        g += t;</span><br><span class="line">        n++;</span><br><span class="line">        t = -t * x * x/(<span class="number">2</span>*n<span class="number">-1</span>)/(<span class="number">2</span> * n <span class="number">-2</span>);</span><br><span class="line">    &#125; <span class="keyword">while</span> (<span class="built_in">fabs</span>(t) &gt;= IINY_VALUE);</span><br><span class="line">    <span class="keyword">return</span> g;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">double</span> k,r,s;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;r =&quot;</span>;</span><br><span class="line">    cin &gt;&gt; r;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;s=&quot;</span>;</span><br><span class="line">    cin &gt;&gt; s;</span><br><span class="line">    <span class="keyword">if</span> (r * r &lt;= s * s) &#123;</span><br><span class="line">        k = <span class="built_in">sqrt</span>(<span class="built_in">tsin</span>(r) * <span class="built_in">tsin</span>(r) + <span class="built_in">tsin</span>(s) * <span class="built_in">tsin</span>(s));</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        k = <span class="built_in">tsin</span>(r * s) /<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; k &lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="摇筛子游戏"><a href="#摇筛子游戏" class="headerlink" title="摇筛子游戏"></a>摇筛子游戏</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">gameStatus</span> &#123;WIN,LOSE,PLAYING&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">rollDice</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> rand1 = <span class="built_in">rand</span>() % <span class="number">6</span> + <span class="number">1</span>;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> rand2 = <span class="built_in">rand</span>() % <span class="number">6</span> + <span class="number">1</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;rand1 + rand2 = &quot;</span> &lt;&lt; rand1 + rand2 &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> rand1 + rand2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> seed, sum, myPoint;</span><br><span class="line">    gameStatus status;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;enter is seed:&quot;</span>;</span><br><span class="line">    cin &gt;&gt; seed;</span><br><span class="line">    <span class="built_in">srand</span>(seed);</span><br><span class="line">    sum = <span class="built_in">rollDice</span>();</span><br><span class="line">    <span class="keyword">switch</span> (sum)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">11</span>:</span><br><span class="line">        status = WIN;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">12</span>:</span><br><span class="line">        status = LOSE;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        status = PLAYING;</span><br><span class="line">        myPoint = sum;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (status == PLAYING)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">/* code */</span></span><br><span class="line">        sum = <span class="built_in">rollDice</span>();</span><br><span class="line">        <span class="keyword">if</span> (sum == <span class="number">7</span>) &#123;</span><br><span class="line">            status = LOSE;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sum == myPoint) &#123;</span><br><span class="line">            status = WIN;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (status == WIN) &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;WIN&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (status == LOSE) &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;LOSE&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/7/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><span class="space">&hellip;</span><a class="page-number" href="/page/19/">19</a><a class="extend next" rel="next" href="/page/9/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Thepatter"
      src="/images/header.jpeg">
  <p class="site-author-name" itemprop="name">Thepatter</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">187</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">37</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">81</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Thepatterraining" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Thepatterraining" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:ztzhoutao041@163.com" title="E-Mail → mailto:ztzhoutao041@163.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://blog.csdn.net/Thepatterraining" title="CSDN → http:&#x2F;&#x2F;blog.csdn.net&#x2F;Thepatterraining" rel="noopener" target="_blank"><i class="fa fa-fw fa-CSDN"></i>CSDN</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Thepatter</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> 强力驱动
  </div>

        






<script>
  (function() {
    function leancloudSelector(url) {
      url = encodeURI(url);
      return document.getElementById(url).querySelector('.leancloud-visitors-count');
    }

    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = decodeURI(visitors.id);
      var title = visitors.dataset.flagTitle;

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url })))
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
            leancloudSelector(url).innerText = counter.time + 1;
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              });
          } else {
              leancloudSelector(url).innerText = 'Counter not initialized! More info at console err msg.';
              console.error('ATTENTION! LeanCloud counter has security bug, see how to solve it here: https://github.com/theme-next/hexo-leancloud-counter-security. \n However, you can still use LeanCloud without security, by setting `security` option to `false`.');
            
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return decodeURI(element.id);
      });

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url: { '$in': entries } })))
        .then(response => response.json())
        .then(({ results }) => {
          for (let url of entries) {
            let target = results.find(item => item.url === url);
            leancloudSelector(url).innerText = target ? target.time : 0;
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    let { app_id, app_key, server_url } = {"enable":true,"app_id":"RWllimOI5okO7WFTUmJ4EeeD-gzGzoHsz","app_key":"hXeefwCw8aDKTJ1Xqye7fLYb","security":true};
    function fetchData(api_server) {
      var Counter = (method, url, data) => {
        return fetch(`${api_server}/1.1${url}`, {
          method,
          headers: {
            'X-LC-Id'     : app_id,
            'X-LC-Key'    : app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    }

    let api_server = app_id.slice(-9) !== '-MdYXbMMI' ? server_url : `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com`;

    if (api_server) {
      fetchData(api_server);
    } else {
      fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
        .then(response => response.json())
        .then(({ api_server }) => {
          fetchData('https://' + api_server);
        });
    }
  })();
</script>


      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'RWllimOI5okO7WFTUmJ4EeeD-gzGzoHsz',
      appKey     : 'hXeefwCw8aDKTJ1Xqye7fLYb',
      placeholder: "给我的文章加点评论吧~",
      avatar     : 'mp',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
